<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <title>MySQL大全 | Tom</title>
  <meta name="keywords" content=" SQL ">
  <meta name="description" content="MySQL大全 | Tom">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="document.querySelectorAll(&apos;.github-emoji&apos;)           .forEach(el =&amp;gt; {             if (!el.dataset.src) { return; }             const img = document.createElement(&apos;img&apos;);             img.style">
<meta property="og:type" content="website">
<meta property="og:title" content="contact">
<meta property="og:url" content="https://yflytom.github.io/contact/index-1.html">
<meta property="og:site_name" content="Tom">
<meta property="og:description" content="document.querySelectorAll(&apos;.github-emoji&apos;)           .forEach(el =&amp;gt; {             if (!el.dataset.src) { return; }             const img = document.createElement(&apos;img&apos;);             img.style">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-12-26T02:10:56.481Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="contact">
<meta name="twitter:description" content="document.querySelectorAll(&apos;.github-emoji&apos;)           .forEach(el =&amp;gt; {             if (!el.dataset.src) { return; }             const img = document.createElement(&apos;img&apos;);             img.style">


<link rel="icon" href="/img/favicon.png">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/atom-light.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0"></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="//cdn.jsdelivr.net/npm/jquery.cookie@1.4.1/jquery.cookie.min.js"></script>

<script src="/js/iconfont.js?v=1.1.0"></script>

<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value>
  <input class="theme_blog_path" value>
  <input id="theme_shortcut" value="true">
  <input id="theme_highlight_on" value="true">
  <input id="theme_code_copy" value="true">
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/"
   class="avatar_target">
    <img class="avatar"
         src="/img/favicon.png"/>
</a>
<div class="author">
    <span>FlyTom</span>
</div>

<div class="icon">
    
</div>




<ul>
    <li>
        <div class="all active" data-rel="全部文章">全部文章
            
                <small>(52)</small>
            
        </div>
    </li>
    
        
            
                <li>
                    <div data-rel="binlog日志">
                        
                        binlog日志
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="canal">
                        
                        canal
                        <small>(2)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Docker">
                        
                        Docker
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="docker 实战">
                        
                        docker 实战
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Dubbo">
                        
                        Dubbo
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Elasticsearch">
                        
                        Elasticsearch
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Git Hexo">
                        
                        Git Hexo
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Java">
                        
                        Java
                        <small>(6)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Jenkins构建Vue项目">
                        
                        Jenkins构建Vue项目
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="jvm">
                        
                        jvm
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="JVM">
                        
                        JVM
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Linux">
                        
                        Linux
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Logstash">
                        
                        Logstash
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Maven">
                        
                        Maven
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="MQ">
                        
                        MQ
                        <small>(4)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Mybatis">
                        
                        Mybatis
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="prometheus、grafana">
                        
                        prometheus、grafana
                        <small>(2)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="quartz">
                        
                        quartz
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Redis">
                        
                        Redis
                        <small>(3)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="seata分布式事务">
                        
                        seata分布式事务
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="shardingjdbc">
                        
                        shardingjdbc
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="springboot 源码">
                        
                        springboot 源码
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Spring系列">
                        
                        Spring系列
                        <small>(5)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="SQL">
                        
                        SQL
                        <small>(3)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="SSO">
                        
                        SSO
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="tcp">
                        
                        tcp
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="Zookeeper">
                        
                        Zookeeper
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="前端">
                        
                        前端
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="学习路线">
                        
                        学习路线
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
        
            
                <li>
                    <div data-rel="经验、总结">
                        
                        经验、总结
                        <small>(1)</small>
                        
                    </div>
                    
                </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
        
            
    </div>
    <div>
        
        
    </div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="52">
<input type="hidden" id="yelog_site_word_count" value="272.5k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        友情链接
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="搜索 快捷键 i"></i>
            <div class="right-title">全部文章</div>
            <i class="iconfont icon-file-tree" data-title="切换到大纲视图 快捷键 w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="返回"></i>
            <input id="local-search-input" autocomplete="off"/>
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="大小写敏感"></i>
            <i class="iconfont icon-tag" data-title="标签"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">大纲</div>
            <i class="iconfont icon-list" data-title="切换到文章列表"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>binlog日志</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>canal</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>CAS-SSO</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>docker 实战</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Docker笔记</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Dubbo</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Git Hexo</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>HashMap ConcurrentHashMap</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Java</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>java锁</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Jenkins</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>jvm</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>JVM</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>kafka</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Linux</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Logstash</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Markdown</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Maven</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Mybatis</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>prometheus、grafana</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>quartz</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>RabbitMQ</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>RocketMQ</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>shardingjdbc</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Spring</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>SpringBoot</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>springboot 源码</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>SpringCloud</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Spring系列注解</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>SQL</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>tcp</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Zookeeper笔记</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>经验、总结</a>
            </li>
        
    </div>

</div>

    
    <div id="local-search-result">

    </div>
    
    <nav id="title-list-nav">
        
        
        <a  class="全部文章 prometheus、grafana "
           href="/2024/03/11/prometheus-copy/"
           data-tag="prometheus、grafana"
           data-author="" >
            <span class="post-title" title="prometheus和grafana">prometheus和grafana</span>
            <span class="post-date" title="2024-03-11 16:36:22">2024/03/11</span>
        </a>
        
        
        <a  class="全部文章 prometheus、grafana "
           href="/2024/03/11/prometheus/"
           data-tag="prometheus、grafana"
           data-author="" >
            <span class="post-title" title="prometheus和grafana">prometheus和grafana</span>
            <span class="post-date" title="2024-03-11 16:27:23">2024/03/11</span>
        </a>
        
        
        <a  class="全部文章 "
           href="/2023/09/17/2023-09-17-ying-yu-xue-xi/"
           data-tag=""
           data-author="" >
            <span class="post-title" title=""></span>
            <span class="post-date" title="2023-09-17 09:58:04">2023/09/17</span>
        </a>
        
        
        <a  class="全部文章 "
           href="/2023/07/24/2023-07-24nginx/"
           data-tag=""
           data-author="" >
            <span class="post-title" title=""></span>
            <span class="post-date" title="2023-07-24 14:58:10">2023/07/24</span>
        </a>
        
        
        <a  class="全部文章 jvm "
           href="/2023/03/22/2023-03-22springboot-yuan-ma/"
           data-tag="jvm"
           data-author="" >
            <span class="post-title" title="jvm">jvm</span>
            <span class="post-date" title="2023-03-22 11:20:48">2023/03/22</span>
        </a>
        
        
        <a  class="全部文章 springboot 源码 "
           href="/2023/03/22/2023-03-22jvm/"
           data-tag="springboot 源码"
           data-author="" >
            <span class="post-title" title="springboot 源码">springboot 源码</span>
            <span class="post-date" title="2023-03-22 10:52:56">2023/03/22</span>
        </a>
        
        
        <a  class="全部文章 docker 实战 "
           href="/2023/02/22/2023-02-22-docker-shi-zhan-shi-yong/"
           data-tag="docker 实战"
           data-author="" >
            <span class="post-title" title="docker 实战">docker 实战</span>
            <span class="post-date" title="2023-02-22 15:35:02">2023/02/22</span>
        </a>
        
        
        <a  class="全部文章 "
           href="/2022/12/06/springboot-zhong-spi-ji-zhi/"
           data-tag=""
           data-author="" >
            <span class="post-title" title=""></span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 tcp "
           href="/2022/12/06/2022-12-06-tcp/"
           data-tag="tcp"
           data-author="" >
            <span class="post-title" title="tcp">tcp</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 shardingjdbc "
           href="/2022/12/06/2022-08-17-shardingjdbc/"
           data-tag="shardingjdbc"
           data-author="" >
            <span class="post-title" title="shardingjdbc">shardingjdbc</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 canal "
           href="/2022/12/06/2022-06-30-canal-de-shi-yong/"
           data-tag="canal"
           data-author="" >
            <span class="post-title" title="canal">canal</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 MQ "
           href="/2022/12/06/2022-04-11-rocketmq/"
           data-tag="RocketMQ"
           data-author="" >
            <span class="post-title" title="RocketMQ笔记">RocketMQ笔记</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 binlog日志 "
           href="/2022/12/06/2021-12-30-mysql-binlod/"
           data-tag="binlog日志"
           data-author="" >
            <span class="post-title" title="binlog日志">binlog日志</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 canal "
           href="/2022/12/06/2021-12-20-canal-da-jian/"
           data-tag="canal"
           data-author="" >
            <span class="post-title" title="canal搭建">canal搭建</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 经验、总结 "
           href="/2022/12/06/2028-08-25-jing-yan/"
           data-tag="经验、总结"
           data-author="" >
            <span class="post-title" title="经验、总结">经验、总结</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 Jenkins构建Vue项目 "
           href="/2022/12/06/2021-08-25-jenkins-gou-jian-vue-xiang-mu/"
           data-tag="Jenkins"
           data-author="" >
            <span class="post-title" title="Jenkins构建Vue项目">Jenkins构建Vue项目</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 Spring系列 "
           href="/2022/12/06/2021-06-17-springcolud/"
           data-tag="SpringCloud"
           data-author="" >
            <span class="post-title" title="SpringCloud笔记">SpringCloud笔记</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 学习路线 "
           href="/2022/12/06/2021-06-16-xue-xi-lu-xian/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="学习路线">学习路线</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 seata分布式事务 "
           href="/2022/12/06/2021-06-07-seata-fen-bu-shi-shi-wu/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="seata分布式事务">seata分布式事务</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 Redis "
           href="/2022/12/06/2021-06-03-redisson/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="redisson">redisson</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 SQL "
           href="/2022/12/06/2021-03-31-mysql-zheng-li/"
           data-tag="SQL"
           data-author="" >
            <span class="post-title" title="mysql问题整理">mysql问题整理</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 JVM "
           href="/2022/12/06/2020-05-09-jvm/"
           data-tag="JVM"
           data-author="" >
            <span class="post-title" title="JVM">JVM</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 Java "
           href="/2022/12/06/2020-05-01-java-suo-li-jie/"
           data-tag="java锁"
           data-author="" >
            <span class="post-title" title="java锁">java锁</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 Java "
           href="/2022/12/06/2020-04-16-map-ji-he-shen-ru/"
           data-tag="HashMap ConcurrentHashMap"
           data-author="" >
            <span class="post-title" title="Map集合深入">Map集合深入</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 SSO "
           href="/2022/12/06/2020-03-19-sso-cas/"
           data-tag="CAS-SSO"
           data-author="" >
            <span class="post-title" title="CAS-SSO">CAS-SSO</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 Docker "
           href="/2022/12/06/2020-03-18-docker/"
           data-tag="Docker笔记"
           data-author="" >
            <span class="post-title" title="Docker笔记">Docker笔记</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 Spring系列 "
           href="/2022/12/06/2020-03-09-springboot-an-li/"
           data-tag="SpringBoot"
           data-author="" >
            <span class="post-title" title="SpringBoot 入门案例">SpringBoot 入门案例</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 Redis "
           href="/2022/12/06/2020-03-09-redis-shen-ru/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="redis深入">redis深入</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 Redis "
           href="/2022/12/06/2020-03-09-redis-ji-chu/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="redis基础笔记">redis基础笔记</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 Logstash "
           href="/2022/12/06/2019-12-26-logstash-ji-chu/"
           data-tag="Logstash"
           data-author="" >
            <span class="post-title" title="Logstash基础">Logstash基础</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 SQL "
           href="/2022/12/06/2019-12-17-mysql-da-quan/"
           data-tag="SQL"
           data-author="" >
            <span class="post-title" title="MySQL大全">MySQL大全</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 Linux "
           href="/2022/12/06/2019-12-17-linux/"
           data-tag="Linux"
           data-author="" >
            <span class="post-title" title="Linux">Linux</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 前端 "
           href="/2022/12/06/2019-12-04-vue-ji-chu/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Vue基础">Vue基础</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 Spring系列 "
           href="/2022/12/06/2019-09-10-spring-xi-lie-zhu-jie/"
           data-tag="Spring系列注解"
           data-author="" >
            <span class="post-title" title="Spring系列注解">Spring系列注解</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 Java "
           href="/2022/12/06/2019-07-21-java-duo-xian-cheng-bi-ji/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="java多线程基础">java多线程基础</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 Java "
           href="/2022/12/06/2019-06-16-xian-cheng-chi-dui-lie/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="线程池队列">线程池队列</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 SQL "
           href="/2022/12/06/2019-06-16-mysql-suo-yin/"
           data-tag="SQL"
           data-author="" >
            <span class="post-title" title="MySQL 索引">MySQL 索引</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 Maven "
           href="/2022/12/06/2019-06-16-maven-bi-ji/"
           data-tag="Maven"
           data-author="" >
            <span class="post-title" title="Maven笔记">Maven笔记</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 MQ "
           href="/2022/12/06/2019-06-16-kafka-pei-zhi-xin-xi/"
           data-tag="kafka"
           data-author="" >
            <span class="post-title" title="kafka配置信息">kafka配置信息</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 MQ "
           href="/2022/12/06/2019-06-16-kafka-xue-xi-bi-ji/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="kafka学习笔记">kafka学习笔记</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 MQ "
           href="/2022/12/06/2019-05-12-rabbitmq/"
           data-tag="RabbitMQ"
           data-author="" >
            <span class="post-title" title="RabbitMQ笔记">RabbitMQ笔记</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 Spring系列 "
           href="/2022/12/06/2019-04-18-springboot-bi-ji/"
           data-tag="SpringBoot"
           data-author="" >
            <span class="post-title" title="SpringBoot笔记">SpringBoot笔记</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 quartz "
           href="/2022/12/06/2019-04-11-quartz/"
           data-tag="quartz"
           data-author="" >
            <span class="post-title" title="quartz">quartz</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 Git Hexo "
           href="/2022/12/06/2019-04-11-idea-git-hexo-de-shi-yong-fly-tom/"
           data-tag="Git Hexo"
           data-author="" >
            <span class="post-title" title="Git">Git</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 Elasticsearch "
           href="/2022/12/06/2019-04-11-elasticsearch/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Elasticsearch笔记">Elasticsearch笔记</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 Dubbo "
           href="/2022/12/06/2019-04-11-dubbo/"
           data-tag="Dubbo"
           data-author="" >
            <span class="post-title" title="Dubbo笔记">Dubbo笔记</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 Spring系列 "
           href="/2022/12/06/2019-02-03-spring-zhi-shi-dian/"
           data-tag="Spring"
           data-author="" >
            <span class="post-title" title="Spring">Spring</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 Java "
           href="/2022/12/06/2019-02-03-java-she-ji-mo-shi/"
           data-tag="Java"
           data-author="" >
            <span class="post-title" title="java设计模式">java设计模式</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 Java "
           href="/2022/12/06/2019-02-03-java-ji-chu/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="java基础笔记">java基础笔记</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 Mybatis "
           href="/2022/12/06/2019-01-23-mybatis/"
           data-tag="Mybatis"
           data-author="" >
            <span class="post-title" title="Mybatis笔记">Mybatis笔记</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 Zookeeper "
           href="/2022/12/06/2018-11-02-zookeeper-bi-ji/"
           data-tag="Zookeeper笔记"
           data-author="" >
            <span class="post-title" title="Zookeeper笔记">Zookeeper笔记</span>
            <span class="post-date" title="2022-12-06 20:08:50">2022/12/06</span>
        </a>
        
        
        <a  class="全部文章 "
           href="/2018/12/17/2018-09-06-markdown-intro/"
           data-tag="Markdown"
           data-author="" >
            <span class="post-title" title="一份简明的 Markdown 笔记与教程">一份简明的 Markdown 笔记与教程</span>
            <span class="post-date" title="2018-12-17 00:00:00">2018/12/17</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>

    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="切换全屏 快捷键 s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-2019-12-17-MySQL大全" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">MySQL大全</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="SQL">SQL</a>
            
        </span>
        
        
        <span class="tag">
            <i class="iconfont icon-tag"></i>
            
            <a class="color4">SQL</a>
            
        </span>
        
    </div>
    <div class="article-meta">
        
            发布时间 : <time class="date" title='最后更新: 2023-05-10 10:20:46'>2022-12-06 20:08</time>
        
    </div>
    <div class="article-meta">
        
        <span>字数:17.6k</span>
        
        
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#mysql基础知识"><span class="toc-text">mysql基础知识</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#0、sql的运行"><span class="toc-text">0、sql的运行</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#执行过程"><span class="toc-text">执行过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#查询缓存"><span class="toc-text">查询缓存</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#一、基本概念"><span class="toc-text">一、基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-主键、外键、超键、候选键"><span class="toc-text">1.主键、外键、超键、候选键</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-为什么用自增列作为主键"><span class="toc-text">2.为什么用自增列作为主键</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-触发器的作用？"><span class="toc-text">3.触发器的作用？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-什么是存储过程？用什么来调用？"><span class="toc-text">4.什么是存储过程？用什么来调用？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-存储过程的优缺点？"><span class="toc-text">5.存储过程的优缺点？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-存储过程与函数的区别"><span class="toc-text">6.存储过程与函数的区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-什么叫视图？游标是什么？"><span class="toc-text">7.什么叫视图？游标是什么？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#8-视图的优缺点"><span class="toc-text">8.视图的优缺点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#9-drop、truncate、-delete区别"><span class="toc-text">9.drop、truncate、 delete区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#10-什么是临时表，临时表什么时候删除"><span class="toc-text">10.什么是临时表，临时表什么时候删除?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#11-非关系型数据库和关系型数据库区别，优势比较"><span class="toc-text">11.非关系型数据库和关系型数据库区别，优势比较?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#12-数据库范式，根据某个场景设计数据表"><span class="toc-text">12.数据库范式，根据某个场景设计数据表?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#13-什么是-内连接、外连接、交叉连接、笛卡尔积等"><span class="toc-text">13.什么是 内连接、外连接、交叉连接、笛卡尔积等?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#14-varchar和char的使用场景"><span class="toc-text">14.varchar和char的使用场景?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#15-SQL语言分类"><span class="toc-text">15.SQL语言分类</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-数据查询语言DQL"><span class="toc-text">1. 数据查询语言DQL</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-数据操纵语言DML"><span class="toc-text">2 .数据操纵语言DML</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-数据定义语言DDL"><span class="toc-text">3. 数据定义语言DDL</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-数据控制语言DCL"><span class="toc-text">4. 数据控制语言DCL</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#16-like-和-的区别"><span class="toc-text">16.like %和-的区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#17-count-、count-1-、count-column-的区别"><span class="toc-text">17.count(*)、count(1)、count(column)的区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#18-最左前缀原则"><span class="toc-text">18.最左前缀原则</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#三、事务"><span class="toc-text">三、事务</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-什么是事务？"><span class="toc-text">1.什么是事务？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-事务四大特性（ACID）原子性、一致性、隔离性、持久性"><span class="toc-text">2.事务四大特性（ACID）原子性、一致性、隔离性、持久性?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#事务控制语句："><span class="toc-text">事务控制语句：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-事务的并发-事务隔离级别，每个级别会引发什么问题，MySQL默认是哪个级别"><span class="toc-text">3.事务的并发?事务隔离级别，每个级别会引发什么问题，MySQL默认是哪个级别?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-事务传播行为"><span class="toc-text">4.事务传播行为</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-嵌套事务"><span class="toc-text">5.嵌套事务</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#四、存储引擎"><span class="toc-text">四、存储引擎</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-MySQL常见的三种存储引擎（InnoDB、MyISAM、MEMORY）的区别"><span class="toc-text">1.MySQL常见的三种存储引擎（InnoDB、MyISAM、MEMORY）的区别?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-MySQL存储引擎MyISAM与InnoDB如何选择"><span class="toc-text">2.MySQL存储引擎MyISAM与InnoDB如何选择</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-MySQL的MyISAM与InnoDB两种存储引擎在，事务、锁级别，各自的适用场景"><span class="toc-text">3.MySQL的MyISAM与InnoDB两种存储引擎在，事务、锁级别，各自的适用场景?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-MyISAM与InnoDB两种存储引擎在磁盘中的格式"><span class="toc-text">4. MyISAM与InnoDB两种存储引擎在磁盘中的格式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#五、优化"><span class="toc-text">五、优化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-查询语句不同元素（where、jion、limit、group-by、having等等）执行先后顺序"><span class="toc-text">1.查询语句不同元素（where、jion、limit、group by、having等等）执行先后顺序?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-使用explain优化sql和索引"><span class="toc-text">2.使用explain优化sql和索引?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-MySQL慢查询怎么"><span class="toc-text">3.MySQL慢查询怎么</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4、常见优化"><span class="toc-text">4、常见优化</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#六、数据库锁"><span class="toc-text">六、数据库锁</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-mysql都有什么锁，死锁判定原理和具体场景，死锁怎么解决"><span class="toc-text">1.mysql都有什么锁，死锁判定原理和具体场景，死锁怎么解决?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-有哪些锁（乐观锁悲观锁），select-时怎么加排它锁"><span class="toc-text">2.有哪些锁（乐观锁悲观锁），select 时怎么加排它锁?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#补充："><span class="toc-text">补充：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#总结："><span class="toc-text">总结：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#七、其他"><span class="toc-text">七、其他</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-数据库的主从复制"><span class="toc-text">1.数据库的主从复制</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-数据库主从复制分析的-7-个问题"><span class="toc-text">2.数据库主从复制分析的 7 个问题?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-mysql-高并发环境解决方案"><span class="toc-text">3.mysql 高并发环境解决方案?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-数据库崩溃时事务的恢复机制（REDO日志和UNDO日志）"><span class="toc-text">4.数据库崩溃时事务的恢复机制（REDO日志和UNDO日志）?</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#八、日志undo-redo-binlog"><span class="toc-text">八、日志undo redo binlog</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#技巧"><span class="toc-text">技巧</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#sql-蠕虫复制（这种生成数据方式同样适用于数据表中有主键的情况）。"><span class="toc-text">sql 蠕虫复制（这种生成数据方式同样适用于数据表中有主键的情况）。</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#九、MYSQL-下-count-、count-列）、-count-1-理解"><span class="toc-text">九、MYSQL 下 count(*)、count(列）、 count(1) 理解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#十、其他整理"><span class="toc-text">十、其他整理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#binglog-配置"><span class="toc-text">binglog 配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#binglog数据恢复"><span class="toc-text">binglog数据恢复</span></a></li></ol></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="mysql基础知识"><a href="#mysql基础知识" class="headerlink" title="mysql基础知识"></a>mysql基础知识</h2><h3 id="0、sql的运行"><a href="#0、sql的运行" class="headerlink" title="0、sql的运行"></a>0、sql的运行</h3><h4 id="执行过程"><a href="#执行过程" class="headerlink" title="执行过程"></a>执行过程</h4><p>当希望MySQL能够以更高的性能运行查询时，最好的办法就是弄清楚MySQL是如何优化和执行查询的。一旦理解了这一点，很多查询优化工作实际上就是遵循一些原则能够按照预想的合理的方式运行。<br>如下图所示，当向MySQL发送一个请求的时候，MySQL到底做了什么：</p>
<ol>
<li>客户端发送一条查询给服务器。</li>
<li>服务器先检查查询缓存，如果命中了缓存，则立刻返回存储在缓存中的结果。否则进入下一阶段。</li>
<li>服务器端进行SQL解析、预处理，再由优化器生成对应的执行计划。</li>
<li>MySQL根据优化器生成的执行计划，再调用存储引擎的API来执行查询。</li>
<li>将结果返回给客户端。</li>
</ol>
<p><img src="https://gitee.com/fly_tom/use/raw/master/mysql4.png" alt=""></p>
<h4 id="查询缓存"><a href="#查询缓存" class="headerlink" title="查询缓存"></a>查询缓存</h4><p>连接建立完成后，你就可以执行select语句了。执行逻辑就会来到第二步：查询缓存。</p>
<p>MySQL拿到一个查询请求后，会先到查询缓存看看，之前是不是执行过这条语句。之前执行过的语句及其结果可能会以key-value对的形式，被直接缓存在内存中。key是查询的语句，value是查询的结果。如果你的查询能够直接在这个缓存中找到key，那么这个value就会被直接返回给客户端。</p>
<p>如果语句不在查询缓存中，就会继续后面的执行阶段。执行完成后，执行结果会被存入查询缓存中。你可以看到，如果查询命中缓存，MySQL不需要执行后面的复杂操作，就可以直接返回结果，这个效率会很高。</p>
<p><strong>但是大多数情况下我会建议你不要使用查询缓存，为什么呢？因为查询缓存往往弊大于利。</strong></p>
<p>查询缓存的失效非常频繁，只要有对一个表的更新，这个表上所有的查询缓存都会被清空。因此很可能你费劲地把结果存起来，还没使用呢，就被一个更新全清空了。对于更新压力大的数据库来说，查询缓存的命中率会非常低。除非你的业务就是有一张静态表，很长时间才会更新一次。比如，一个系统配置表，那这张表上的查询才适合使用查询缓存。</p>
<p>好在MySQL也提供了这种“按需使用”的方式。你可以将参数query_cache_type设置成DEMAND，这样对于默认的SQL语句都不使用查询缓存。而对于你确定要使用查询缓存的语句，可以用SQL_CACHE显式指定，像下面这个语句一样：</p>
<pre><code>mysql&gt; select SQL_CACHE * from T where ID=10；</code></pre><p>需要注意的是，MySQL 8.0版本直接将查询缓存的整块功能删掉了，也就是说8.0开始彻底没有这个功能了。</p>
<h3 id="一、基本概念"><a href="#一、基本概念" class="headerlink" title="一、基本概念"></a>一、基本概念</h3><hr>
<h4 id="1-主键、外键、超键、候选键"><a href="#1-主键、外键、超键、候选键" class="headerlink" title="1.主键、外键、超键、候选键"></a>1.主键、外键、超键、候选键</h4><p><strong>超键：</strong> 在关系中能唯一标识元组的属性集称为关系模式的超键。一个属性可以为作为一个超键，多个属性组合在一起也可以作为一个超键。超键包含候选键和主键。</p>
<p><strong>候选键：</strong> 是最小超键，即没有冗余元素的超键。</p>
<p><strong>主键：</strong> 数据库表中对储存数据对象予以唯一和完整标识的数据列或属性的组合。一个数据列只能有一个主键，且主键的取值不能缺失，即不能为空值（Null）。</p>
<p><strong>外键：</strong> 在一个表中存在的另一个表的主键称此表的外键。</p>
<h4 id="2-为什么用自增列作为主键"><a href="#2-为什么用自增列作为主键" class="headerlink" title="2.为什么用自增列作为主键"></a>2.为什么用自增列作为主键</h4><p>如果我们定义了主键(PRIMARY KEY)，那么InnoDB会选择主键作为聚集索引、</p>
<p>如果没有显式定义主键，则InnoDB会选择第一个不包含有NULL值的唯一索引作为主键索引、</p>
<p>如果也没有这样的唯一索引，则InnoDB会选择内置6字节长的ROWID作为隐含的聚集索引(ROWID随着行记录的写入而主键递增，这个ROWID不像ORACLE的ROWID那样可引用，是隐含的)。</p>
<p>数据记录本身被存于主索引（一颗B+Tree）的叶子节点上。这就要求同一个叶子节点内（大小为一个内存页或磁盘页）的各条数据记录按主键顺序存放，因此每当有一条新的记录插入时，MySQL会根据其主键将其插入适当的节点和位置，如果页面达到装载因子（InnoDB默认为15/16），则开辟一个新的页（节点）</p>
<p>如果表使用自增主键，那么每次插入新的记录，记录就会顺序添加到当前索引节点的后续位置，当一页写满，就会自动开辟一个新的页</p>
<p>如果使用非自增主键（如果身份证号或学号等），由于每次插入主键的值近似于随机，因此每次新记录都要被插到现有索引页的中间某个位置，此时MySQL不得不为了将新记录插到合适位置而移动数据，甚至目标页面可能已经被回写到磁盘上而从缓存中清掉，此时又要从磁盘上读回来，这增加了很多开销，同时频繁的移动、分页操作造成了大量的碎片，得到了不够紧凑的索引结构，后续不得不通过OPTIMIZE TABLE来重建表并优化填充页面。</p>
<h4 id="3-触发器的作用？"><a href="#3-触发器的作用？" class="headerlink" title="3.触发器的作用？"></a>3.触发器的作用？</h4><p>触发器是一种特殊的存储过程，主要是通过事件来触发而被执行的。它可以强化约束，来维护数据的完整性和一致性，可以跟踪数据库内的操作从而不允许未经许可的更新和变化。可以联级运算。如，某表上的触发器上包含对另一个表的数据操作，而该操作又会导致该表触发器被触发。</p>
<h4 id="4-什么是存储过程？用什么来调用？"><a href="#4-什么是存储过程？用什么来调用？" class="headerlink" title="4.什么是存储过程？用什么来调用？"></a>4.什么是存储过程？用什么来调用？</h4><p>存储过程是一个预编译的SQL语句，优点是允许模块化的设计，就是说只需创建一次，以后在该程序中就可以调用多次。如果某次操作需要执行多次SQL，使用存储过程比单纯SQL语句执行要快。</p>
<p><strong>调用：</strong> </p>
<p>1）可以用一个命令对象来调用存储过程。</p>
<p>2）可以供外部程序调用，比如：java程序。</p>
<h4 id="5-存储过程的优缺点？"><a href="#5-存储过程的优缺点？" class="headerlink" title="5.存储过程的优缺点？"></a>5.存储过程的优缺点？</h4><p><strong>优点：</strong> </p>
<p>1）存储过程是预编译过的，执行效率高。</p>
<p>2）存储过程的代码直接存放于数据库中，通过存储过程名直接调用，减少网络通讯。</p>
<p>3）安全性高，执行存储过程需要有一定权限的用户。</p>
<p>4）存储过程可以重复使用，可减少数据库开发人员的工作量。</p>
<p><strong>缺点：</strong> </p>
<p>移植性差</p>
<h4 id="6-存储过程与函数的区别"><a href="#6-存储过程与函数的区别" class="headerlink" title="6.存储过程与函数的区别"></a>6.存储过程与函数的区别</h4><p><img src="data:image/gif;base64,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" alt=""></p>
<h4 id="7-什么叫视图？游标是什么？"><a href="#7-什么叫视图？游标是什么？" class="headerlink" title="7.什么叫视图？游标是什么？"></a>7.什么叫视图？游标是什么？</h4><p><strong>视图：</strong> </p>
<p>是一种虚拟的表，具有和物理表相同的功能。可以对视图进行增，改，查，操作，试图通常是有一个表或者多个表的行或列的子集。对视图的修改会影响基本表。它使得我们获取数据更容易，相比多表查询。</p>
<p><strong>游标：</strong> </p>
<p>是对查询出来的结果集作为一个单元来有效的处理。游标可以定在该单元中的特定行，从结果集的当前行检索一行或多行。可以对结果集当前行做修改。一般不使用游标，但是需要逐条处理数据的时候，游标显得十分重要。</p>
<h4 id="8-视图的优缺点"><a href="#8-视图的优缺点" class="headerlink" title="8.视图的优缺点"></a>8.视图的优缺点</h4><p><strong>优点：</strong> </p>
<p>1对数据库的访问，因为视图可以有选择性的选取数据库里的一部分。</p>
<p>2)用户通过简单的查询可以从复杂查询中得到结果。</p>
<p>3)维护数据的独立性，试图可从多个表检索数据。</p>
<p>4)对于相同的数据可产生不同的视图。</p>
<p><strong>缺点：</strong> </p>
<p>性能：查询视图时，必须把视图的查询转化成对基本表的查询，如果这个视图是由一个复杂的多表查询所定义，那么，那么就无法更改数据</p>
<h4 id="9-drop、truncate、-delete区别"><a href="#9-drop、truncate、-delete区别" class="headerlink" title="9.drop、truncate、 delete区别"></a>9.drop、truncate、 delete区别</h4><p><strong>最基本：</strong> </p>
<ul>
<li><p>drop直接删掉表。</p>
</li>
<li><p>truncate删除表中数据，再插入时自增长id又从1开始。</p>
</li>
<li><p>delete删除表中数据，可以加where字句。</p>
</li>
</ul>
<p>（1） DELETE语句执行删除的过程是每次从表中删除一行，并且同时将该行的删除操作作为事务记录在日志中保存以便进行进行回滚操作。TRUNCATE TABLE 则一次性地从表中删除所有的数据并不把单独的删除操作记录记入日志保存，删除行是不能恢复的。并且在删除的过程中不会激活与表有关的删除触发器。执行速度快。</p>
<p>（2） 表和索引所占空间。当表被TRUNCATE 后，这个表和索引所占用的空间会恢复到初始大小，而DELETE操作不会减少表或索引所占用的空间。drop语句将表所占用的空间全释放掉。</p>
<p>（3） 一般而言，drop &gt; truncate &gt; delete</p>
<p>（4） 应用范围。TRUNCATE 只能对TABLE；DELETE可以是table和view</p>
<p>（5） TRUNCATE 和DELETE只删除数据，而DROP则删除整个表（结构和数据）。</p>
<p>（6） truncate与不带where的delete ：只删除数据，而不删除表的结构（定义）drop语句将删除表的结构被依赖的约束（constrain),触发器（trigger)索引（index);依赖于该表的存储过程/函数将被保留，但其状态会变为：invalid。</p>
<p>（7） delete语句为DML（data maintain Language),这个操作会被放到 rollback segment中,事务提交后才生效。如果有相应的 tigger,执行的时候将被触发。</p>
<p>（8） truncate、drop是DLL（data define language),操作立即生效，原数据不放到 rollback segment中，不能回滚。</p>
<p>（9） 在没有备份情况下，谨慎使用 drop 与 truncate。要删除部分数据行采用delete且注意结合where来约束影响范围。回滚段要足够大。要删除表用drop;若想保留表而将表中数据删除，如果与事务无关，用truncate即可实现。如果和事务有关，或老师想触发trigger,还是用delete。</p>
<p>（10） Truncate table 表名 速度快,而且效率高,因为:?truncate table 在功能上与不带 WHERE 子句的 DELETE 语句相同：二者均删除表中的全部行。但 TRUNCATE TABLE 比 DELETE 速度快，且使用的系统和事务日志资源少。DELETE 语句每次删除一行，并在事务日志中为所删除的每行记录一项。TRUNCATE TABLE 通过释放存储表数据所用的数据页来删除数据，并且只在事务日志中记录页的释放。</p>
<p>（11） TRUNCATE TABLE 删除表中的所有行，但表结构及其列、约束、索引等保持不变。新行标识所用的计数值重置为该列的种子。如果想保留标识计数值，请改用 DELETE。如果要删除表定义及其数据，请使用 DROP TABLE 语句。</p>
<p>（12） 对于由 FOREIGN KEY 约束引用的表，不能使用 TRUNCATE TABLE，而应使用不带 WHERE 子句的 DELETE 语句。由于 TRUNCATE TABLE 不记录在日志中，所以它不能激活触发器。</p>
<h4 id="10-什么是临时表，临时表什么时候删除"><a href="#10-什么是临时表，临时表什么时候删除" class="headerlink" title="10.什么是临时表，临时表什么时候删除?"></a>10.什么是临时表，临时表什么时候删除?</h4><p>临时表可以手动删除：</p>
<pre><code>DROP TEMPORARY TABLE IF EXISTS temp_tb;</code></pre><p>临时表只在当前连接可见，当关闭连接时，MySQL会自动删除表并释放所有空间。因此在不同的连接中可以创建同名的临时表，并且操作属于本连接的临时表。</p>
<p>创建临时表的语法与创建表语法类似，不同之处是增加关键字TEMPORARY，</p>
<p>如：</p>
<pre><code>CREATE TEMPORARY TABLE tmp_table (NAME VARCHAR (10) NOT NULL,time date NOT NULL);select * from tmp_table;</code></pre><h4 id="11-非关系型数据库和关系型数据库区别，优势比较"><a href="#11-非关系型数据库和关系型数据库区别，优势比较" class="headerlink" title="11.非关系型数据库和关系型数据库区别，优势比较?"></a>11.非关系型数据库和关系型数据库区别，优势比较?</h4><p><strong>非关系型数据库的优势：</strong> </p>
<p><strong>性能：</strong> NOSQL是基于键值对的，可以想象成表中的主键和值的对应关系，而且不需要经过SQL层的解析，所以性能非常高。</p>
<p><strong>可扩展性：</strong> 同样也是因为基于键值对，数据之间没有耦合性，所以非常容易水平扩展。<br>关系型数据库的优势：</p>
<p><strong>复杂查询：</strong> 可以用SQL语句方便的在一个表以及多个表之间做非常复杂的数据查询。</p>
<p><strong>事务支持：</strong> 使得对于安全性能很高的数据访问要求得以实现。</p>
<p><strong>其他：</strong> </p>
<p>1.对于这两类数据库，对方的优势就是自己的弱势，反之亦然。</p>
<p>2.NOSQL数据库慢慢开始具备SQL数据库的一些复杂查询功能，比如MongoDB。</p>
<p>3.对于事务的支持也可以用一些系统级的原子操作来实现例如乐观锁之类的方法来曲线救国，比如Redis set nx。</p>
<h4 id="12-数据库范式，根据某个场景设计数据表"><a href="#12-数据库范式，根据某个场景设计数据表" class="headerlink" title="12.数据库范式，根据某个场景设计数据表?"></a>12.数据库范式，根据某个场景设计数据表?</h4><p>第一范式:(确保每列保持原子性)所有字段值都是不可分解的原子值。</p>
<p><strong>第一范式是最基本的范式。</strong>如果数据库表中的所有字段值都是不可分解的原子值，就说明该数据库表满足了第一范式。</p>
<p><strong>第一范式的合理遵循需要根据系统的实际需求来定。</strong>比如某些数据库系统中需要用到“地址”这个属性，本来直接将“地址”属性设计成一个数据库表的字段就行。但是如果系统经常会访问“地址”属性中的“城市”部分，那么就非要将“地址”这个属性重新拆分为省份、城市、详细地址等多个部分进行存储，这样在对地址中某一部分操作的时候将非常方便。这样设计才算满足了数据库的第一范式，如下表所示。</p>
<p>上表所示的用户信息遵循了第一范式的要求，这样在对用户使用城市进行分类的时候就非常方便，也提高了数据库的性能。</p>
<p>第二范式:(确保表中的每列都和主键相关)在一个数据库表中，一个表中只能保存一种数据，不可以把多种数据保存在同一张数据库表中。</p>
<p><strong>第二范式在第一范式的基础之上更进一层。</strong>第二范式需要确保数据库表中的每一列都和主键相关，而不能只与主键的某一部分相关（主要针对联合主键而言）。也就是说在一个数据库表中，一个表中只能保存一种数据，不可以把多种数据保存在同一张数据库表中。</p>
<p>比如要设计一个订单信息表，因为订单中可能会有多种商品，所以要将订单编号和商品编号作为数据库表的联合主键。</p>
<p>第三范式:(确保每列都和主键列直接相关,而不是间接相关) 数据表中的每一列数据都和主键直接相关，而不能间接相关。</p>
<p><strong>第三范式需要确保数据表中的每一列数据都和主键直接相关，而不能间接相关。</strong></p>
<p>比如在设计一个订单数据表的时候，可以将客户编号作为一个外键和订单表建立相应的关系。而不可以在订单表中添加关于客户其它信息（比如姓名、所属公司等）的字段。</p>
<p><strong>BCNF:符合3NF，并且，主属性不依赖于主属性。</strong></p>
<p>若关系模式属于第二范式，且每个属性都不传递依赖于键码，则R属于BC范式。</p>
<p>通常BC范式的条件有多种等价的表述：每个非平凡依赖的左边必须包含键码；每个决定因素必须包含键码。</p>
<p>BC范式既检查非主属性，又检查主属性。当只检查非主属性时，就成了第三范式。满足BC范式的关系都必然满足第三范式。</p>
<p>还可以这么说：** 若一个关系达到了第三范式，并且它只有一个候选码，或者它的每个候选码都是单属性，则该关系自然达到BC范式。**</p>
<p>一般，一个数据库设计符合3NF或BCNF就可以了。</p>
<p>第四范式:要求把同一表内的多对多关系删除。</p>
<p>第五范式:从最终结构重新建立原始结构。</p>
<h4 id="13-什么是-内连接、外连接、交叉连接、笛卡尔积等"><a href="#13-什么是-内连接、外连接、交叉连接、笛卡尔积等" class="headerlink" title="13.什么是 内连接、外连接、交叉连接、笛卡尔积等?"></a>13.什么是 内连接、外连接、交叉连接、笛卡尔积等?</h4><p><strong>内连接:</strong>  只连接匹配的行</p>
<p><strong>左外连接:</strong>  包含左边表的全部行（不管右边的表中是否存在与它们匹配的行），以及右边表中全部匹配的行</p>
<p><strong>右外连接:</strong>  包含右边表的全部行（不管左边的表中是否存在与它们匹配的行），以及左边表中全部匹配的行</p>
<p>例如1：</p>
<pre><code>SELECT a.,b. FROM luntan LEFT JOIN usertable as b ON a.username=b.username</code></pre><p>例如2：</p>
<pre><code>SELECT a.,b. FROM city as a FULL OUTER JOIN user as b ON a.username=b.username</code></pre><p><strong>全外连接:</strong>  包含左、右两个表的全部行，不管另外一边的表中是否存在与它们匹配的行。</p>
<p><strong>交叉连接:</strong>  生成笛卡尔积－它不使用任何匹配或者选取条件，而是直接将一个数据源中的每个行与另一个数据源的每个行都一一匹配</p>
<p>例如：</p>
<pre><code>SELECT type,pub_name FROM titles CROSS JOIN publishers ORDER BY type</code></pre><p><strong>注意：</strong> </p>
<p>很多公司都只是考察是否知道其概念，但是也有很多公司需要不仅仅知道概念，还需要动手写sql,一般都是简单的连接查询，具体关于连接查询的sql练习，参见以下链接：</p>
<p><em><a href="https://www.nowcoder.com/ta/sql" target="_blank" rel="noopener">https://www.nowcoder.com/ta/sql</a></em></p>
<p><em><a href="https://leetcode-cn.com/problemset/database/" target="_blank" rel="noopener">https://leetcode-cn.com/problemset/database/</a></em></p>
<p>参考公众号之前发过的：<a href="http://mp.weixin.qq.com/s?__biz=MzI4Njc5NjM1NQ==&amp;mid=2247488088&amp;idx=2&amp;sn=501652bb26f69a11f6aca0953cbfdc50&amp;chksm=ebd62d74dca1a4624c476ceaf04327d826c916f550a5660a287dd175034d2edb9c21b4cb4b02&amp;scene=21#wechat_redirect" target="_blank" rel="noopener">图解 SQL 中 JOIN 的各种用法</a></p>
<h4 id="14-varchar和char的使用场景"><a href="#14-varchar和char的使用场景" class="headerlink" title="14.varchar和char的使用场景?"></a>14.varchar和char的使用场景?</h4><p><strong>1.char的长度是不可变的，而varchar的长度是可变的。</strong></p>
<p>定义一个char[10]和varchar[10]。</p>
<p>如果存进去的是‘csdn’,那么char所占的长度依然为10，除了字符‘csdn’外，后面跟六个空格，varchar就立马把长度变为4了，取数据的时候，char类型的要用trim()去掉多余的空格，而varchar是不需要的。</p>
<p><strong>2.char的存取速度还是要比varchar要快得多，因为其长度固定，方便程序的存储与查找。</strong></p>
<p>char也为此付出的是空间的代价，因为其长度固定，所以难免会有多余的空格占位符占据空间，可谓是以空间换取时间效率。</p>
<p>varchar是以空间效率为首位。</p>
<p><strong>3.char的存储方式是：</strong> <strong>对英文字符（ASCII）占用1个字节，对一个汉字占用两个字节。</strong><br><strong>varchar的存储方式是：</strong> <strong>对每个英文字符占用2个字节，汉字也占用2个字节。</strong></p>
<p><strong>4.两者的存储数据都非unicode的字符数据。</strong></p>
<h4 id="15-SQL语言分类"><a href="#15-SQL语言分类" class="headerlink" title="15.SQL语言分类"></a>15.SQL语言分类</h4><p>SQL语言共分为四大类：</p>
<ul>
<li><p>数据查询语言DQL</p>
</li>
<li><p>数据操纵语言DML</p>
</li>
<li><p>数据定义语言DDL</p>
</li>
<li><p>数据控制语言DCL。</p>
</li>
</ul>
<h5 id="1-数据查询语言DQL"><a href="#1-数据查询语言DQL" class="headerlink" title="1. 数据查询语言DQL"></a>1. 数据查询语言DQL</h5><p>数据查询语言DQL基本结构是由SELECT子句，FROM子句，WHERE子句组成的查询块：</p>
<p>SELECT<br>FROM<br>WHERE</p>
<h5 id="2-数据操纵语言DML"><a href="#2-数据操纵语言DML" class="headerlink" title="2 .数据操纵语言DML"></a>2 .数据操纵语言DML</h5><p>数据操纵语言DML主要有三种形式：</p>
<p>1) 插入：INSERT</p>
<p>2) 更新：UPDATE</p>
<p>3) 删除：DELETE</p>
<h5 id="3-数据定义语言DDL"><a href="#3-数据定义语言DDL" class="headerlink" title="3. 数据定义语言DDL"></a>3. 数据定义语言DDL</h5><p>数据定义语言DDL用来创建数据库中的各种对象—–表、视图、索引、同义词、聚簇等如：</p>
<p>CREATE TABLE/VIEW/INDEX/SYN/CLUSTER</p>
<p>表 视图 索引 同义词 簇</p>
<p>DDL操作是隐性提交的！不能rollback</p>
<h5 id="4-数据控制语言DCL"><a href="#4-数据控制语言DCL" class="headerlink" title="4. 数据控制语言DCL"></a>4. 数据控制语言DCL</h5><p>数据控制语言DCL用来授予或回收访问数据库的某种特权，并控制数据库操纵事务发生的时间及效果，对数据库实行监视等。如：</p>
<p><strong>1) GRANT：</strong> 授权。</p>
<p><strong>2) ROLLBACK [WORK] TO [SAVEPOINT]：</strong> 回退到某一点。回滚—ROLLBACK；回滚命令使数据库状态回到上次最后提交的状态。其格式为：<br>SQL&gt;ROLLBACK;</p>
<p><strong>3) COMMIT [WORK]：</strong> 提交。</p>
<p>在数据库的插入、删除和修改操作时，只有当事务在提交到数据库时才算完成。在事务提交前，只有操作数据库的这个人才能有权看到所做的事情，别人只有在最后提交完成后才可以看到。</p>
<p>提交数据有三种类型：显式提交、隐式提交及自动提交。下面分别说明这三种类型。</p>
<p><strong>(1) 显式提交</strong></p>
<p>用COMMIT命令直接完成的提交为显式提交。其格式为：SQL&gt;COMMIT；</p>
<p><strong>(2) 隐式提交</strong></p>
<p>用SQL命令间接完成的提交为隐式提交。这些命令是：</p>
<p>ALTER，AUDIT，COMMENT，CONNECT，CREATE，DISCONNECT，DROP，<br>EXIT，GRANT，NOAUDIT，QUIT，REVOKE，RENAME。</p>
<p>(3) 自动提交</p>
<p>若把AUTOCOMMIT设置为ON，则在插入、修改、删除语句执行后，<br>系统将自动进行提交，这就是自动提交。  </p>
<p>其格式为：SQL&gt;SET AUTOCOMMIT ON；</p>
<p>参考文章：</p>
<p><em><a href="https://www.cnblogs.com/study-s/p/5287529.html" target="_blank" rel="noopener">https://www.cnblogs.com/study-s/p/5287529.html</a></em></p>
<h4 id="16-like-和-的区别"><a href="#16-like-和-的区别" class="headerlink" title="16.like %和-的区别"></a>16.like %和-的区别</h4><p>通配符的分类</p>
<p><strong>%百分号通配符:</strong> 表示任何字符出现任意次数(可以是0次).</p>
<p><strong>_下划线通配符:</strong> 表示只能匹配单个字符,不能多也不能少,就是一个字符.</p>
<p><strong>like操作符:</strong>  LIKE作用是指示mysql后面的搜索模式是利用通配符而不是直接相等匹配进行比较.</p>
<p>注意: 如果在使用like操作符时,后面的没有使用通用匹配符效果是和=一致的,SELECT * FROM products WHERE products.prod_name like ‘1000’;只能匹配的结果为1000,而不能匹配像JetPack 1000这样的结果.</p>
<p><strong>%通配符使用:</strong>  匹配以<code>yves</code>开头的记录:(包括记录<code>yves</code>) SELECT FROM products WHERE products.prod_name like ‘yves%’;</p>
<p>匹配包含<code>yves</code>的记录(包括记录<code>yves</code>) SELECT FROM products WHERE products.prod_name like ‘%yves%’;</p>
<p>匹配以<code>yves</code>结尾的记录(包括记录<code>yves</code>,不包括记录<code>yves</code>,也就是yves后面有空格的记录,这里需要注意) SELECT * FROM products WHERE products.prod_name like ‘%yves’;</p>
<p><strong><em>通配符使用:</em></strong> <em>SELECT _FROM products WHERE products.prod_name like ‘_yves’; 匹配结果为: 像<code>yyves</code>这样记录. SELECT</em> FROM products WHERE products.prodname like ‘yves_’; 匹配结果为: 像”yvesHe”这样的记录.(一个下划线只能匹配一个字符,不能多也不能少)</p>
<p><strong>注意事项:</strong> </p>
<p>注意大小写,在使用模糊匹配时,也就是匹配文本时,mysql是可能区分大小的,也可能是不区分大小写的,这个结果是取决于用户对MySQL的配置方式.如果是区分大小写,那么像YvesHe这样记录是不能被”yves__”这样的匹配条件匹配的.</p>
<p>注意尾部空格,”%yves”是不能匹配”heyves “这样的记录的.</p>
<p>注意NULL,%通配符可以匹配任意字符,但是不能匹配NULL,也就是说SELECT * FROM products WHERE products.prod_name like ‘%;是匹配不到products.prod_name为NULL的的记录.</p>
<p><strong>技巧与建议:</strong> </p>
<p>正如所见， MySQL的通配符很有用。但这种功能是有代价的：通配符搜索的处理一般要比前面讨论的其他搜索所花时间更长。这里给出一些使用通配符要记住的技巧。</p>
<p>不要过度使用通配符。如果其他操作符能达到相同的目的，应该 使用其他操作符。<br>在确实需要使用通配符时，除非绝对有必要，否则不要把它们用 在搜索模式的开始处。把通配符置于搜索模式的开始处，搜索起 来是最慢的。</p>
<p>仔细注意通配符的位置。如果放错地方，可能不会返回想要的数.</p>
<p>关于优化，参考之前发过的：  </p>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzI4Njc5NjM1NQ==&amp;mid=2247489949&amp;idx=1&amp;sn=8e175c96e625a7586eba860b03655a76&amp;chksm=ebd626b1dca1afa7626025a5ad24a300cb7d88acb45a7cb4da4cc9d6fe93e4dc929e4237bb6c&amp;scene=21#wechat_redirect" target="_blank" rel="noopener">SQL 性能优化梳理</a>  </p>
<p>参考博文：</p>
<p><em><a href="https://blog.csdn.net/u011479200/article/details/78513632" target="_blank" rel="noopener">https://blog.csdn.net/u011479200/article/details/78513632</a></em></p>
<h4 id="17-count-、count-1-、count-column-的区别"><a href="#17-count-、count-1-、count-column-的区别" class="headerlink" title="17.count(*)、count(1)、count(column)的区别"></a>17.count(*)、count(1)、count(column)的区别</h4><p>count(*)对行的数目进行计算,包含NULL</p>
<p>count(column)对特定的列的值具有的行数进行计算,不包含NULL值。</p>
<p>count()还有一种使用方式,count(1)这个用法和count(*)的结果是一样的。</p>
<p><strong>性能问题:</strong> </p>
<p>1.任何情况下SELECT COUNT(*) FROM tablename是最优选择;</p>
<p>2.尽量减少SELECT COUNT(*) FROM tablename WHERE COL = ‘value’ 这种查询;</p>
<p>3.杜绝SELECT COUNT(COL) FROM tablename WHERE COL2 = ‘value’ 的出现。</p>
<p>如果表没有主键,那么count(1)比count(*)快。</p>
<p>如果有主键,那么count(主键,联合主键)比count(*)快。</p>
<p>如果表只有一个字段,count(*)最快。</p>
<p>count(1)跟count(主键)一样,只扫描主键。count(*)跟count(非主键)一样,扫描整个表。明显前者更快一些。</p>
<h4 id="18-最左前缀原则"><a href="#18-最左前缀原则" class="headerlink" title="18.最左前缀原则"></a>18.最左前缀原则</h4><p><strong>多列索引：</strong> </p>
<pre><code>ALTER TABLE people ADD INDEX lname_fname_age (lame,fname,age);</code></pre><p>为了提高搜索效率，我们需要考虑运用多列索引,由于索引文件以B－Tree格式保存，所以我们不用扫描任何记录，即可得到最终结果。</p>
<p>注：在mysql中执行查询时，只能使用一个索引，如果我们在lname,fname,age上分别建索引,执行查询时，只能使用一个索引，mysql会选择一个最严格(获得结果集记录数最少)的索引。</p>
<p><strong>最左前缀原则：</strong> 顾名思义，就是最左优先，上例中我们创建了lname_fname_age多列索引,相当于创建了(lname)单列索引，(lname,fname)组合索引以及(lname,fname,age)组合索引。</p>
<p>使用联合索引时，存在<strong>最左匹配原则</strong>，也就是按照最左优先的方式进行索引的匹配。</p>
<p>在使用联合索引进行查询的时候，如果不遵循「最左匹配原则」，联合索引会失效，这样就无法利用到索引快速查询的特性了。</p>
<p>比如，如果创建了一个 (a, b, c) 联合索引，如果查询条件是以下这几种，就可以利用联合索引：</p>
<ul>
<li>where a=1；</li>
<li>where a=1 and b=2 and c=3；</li>
<li>where a=1 and b=2；</li>
</ul>
<p>需要注意的是，因为有查询优化器，所以 a 字段在 where 子句的顺序并不重要。但是，如果查询条件是以下这几种，因为不符合最左匹配原则，所以就无法匹配上联合索引，联合索引就会失效:</p>
<ul>
<li>where b=2；</li>
<li>where c=3；</li>
<li>where b=2 and c=3；</li>
</ul>
<p>上面这些查询条件之所以会失效，是因为(a, b, c) 联合索引，是先按 a 排序，在 a 相同的情况再按 b 排序，在 b 相同的情况再按 c 排序。所以，<strong>b 和 c 是全局无序，局部相对有序的</strong>，这样在没有遵循最左匹配原则的情况下，是无法利用到索引的。</p>
<h3 id="三、事务"><a href="#三、事务" class="headerlink" title="三、事务"></a>三、事务</h3><hr>
<h4 id="1-什么是事务？"><a href="#1-什么是事务？" class="headerlink" title="1.什么是事务？"></a>1.什么是事务？</h4><p>事务是对数据库中一系列操作进行统一的回滚或者提交的操作，主要用来保证数据的完整性和一致性。</p>
<h4 id="2-事务四大特性（ACID）原子性、一致性、隔离性、持久性"><a href="#2-事务四大特性（ACID）原子性、一致性、隔离性、持久性" class="headerlink" title="2.事务四大特性（ACID）原子性、一致性、隔离性、持久性?"></a>2.事务四大特性（ACID）原子性、一致性、隔离性、持久性?</h4><p><strong>原子性（Atomicity）:</strong> </p>
<p>原子性是指事务包含的所有操作要么全部成功，要么全部失败回滚，因此事务的操作如果成功就必须要完全应用到数据库，如果操作失败则不能对数据库有任何影响。</p>
<p><strong>一致性（Consistency）:</strong> </p>
<p>事务开始前和结束后，数据库的完整性约束没有被破坏。比如A向B转账，不可能A扣了钱，B却没收到。</p>
<p><strong>隔离性（Isolation）:</strong> </p>
<p>隔离性是当多个用户并发访问数据库时，比如操作同一张表时，数据库为每一个用户开启的事务，不能被其他事务的操作所干扰，多个并发事务之间要相互隔离。同一时间，只允许一个事务请求同一数据，不同的事务之间彼此没有任何干扰。比如A正在从一张银行卡中取钱，在A取钱的过程结束前，B不能向这张卡转账。</p>
<p><strong>持久性（Durability）:</strong> </p>
<p>持久性是指一个事务一旦被提交了，那么对数据库中的数据的改变就是永久性的，即便是在数据库系统遇到故障的情况下也不会丢失提交事务的操作。</p>
<p>事务：<a href="http://mp.weixin.qq.com/s?__biz=MzI4Njc5NjM1NQ==&amp;mid=2247488892&amp;idx=1&amp;sn=49a1520b62a178bce3905da608f3d407&amp;chksm=ebd62a50dca1a3465cd6e1ce219b95bace4bef392d6e9f23821eaa81240f28411e3e70eb33a4&amp;scene=21#wechat_redirect" target="_blank" rel="noopener">实战分析：事务的隔离级别和传播属性</a>  </p>
<blockquote>
<p><em>在 MySQL 命令行的默认设置下，事务都是自动提交的，即执行 SQL 语句后就会马上执行 COMMIT 操作。因此要显式地开启一个事务务须使用命令 BEGIN 或 START TRANSACTION，或者执行命令 SET AUTOCOMMIT=0，用来禁止使用当前会话的自动提交。</em></p>
</blockquote>
<h4 id="事务控制语句："><a href="#事务控制语句：" class="headerlink" title="事务控制语句："></a>事务控制语句：</h4><ul>
<li>BEGIN 或 START TRANSACTION 显式地开启一个事务；</li>
<li>COMMIT 也可以使用 COMMIT WORK，不过二者是等价的。COMMIT 会提交事务，并使已对数据库进行的所有修改成为永久性的；</li>
<li>ROLLBACK 也可以使用 ROLLBACK WORK，不过二者是等价的。回滚会结束用户的事务，并撤销正在进行的所有未提交的修改；</li>
<li>SAVEPOINT identifier，SAVEPOINT 允许在事务中创建一个保存点，一个事务中可以有多个 SAVEPOINT；</li>
<li>RELEASE SAVEPOINT identifier 删除一个事务的保存点，当没有指定的保存点时，执行该语句会抛出一个异常；</li>
<li>ROLLBACK TO identifier 把事务回滚到标记点；</li>
<li>SET TRANSACTION 用来设置事务的隔离级别。InnoDB 存储引擎提供事务的隔离级别有READ UNCOMMITTED、READ COMMITTED、REPEATABLE READ 和 SERIALIZABLE。</li>
</ul>
<h4 id="3-事务的并发-事务隔离级别，每个级别会引发什么问题，MySQL默认是哪个级别"><a href="#3-事务的并发-事务隔离级别，每个级别会引发什么问题，MySQL默认是哪个级别" class="headerlink" title="3.事务的并发?事务隔离级别，每个级别会引发什么问题，MySQL默认是哪个级别?"></a>3.事务的并发?事务隔离级别，每个级别会引发什么问题，MySQL默认是哪个级别?</h4><p>从理论上来说, 事务应该彼此完全隔离, 以避免并发事务所导致的问题，然而, 那样会对性能产生极大的影响, 因为事务必须按顺序运行， 在实际开发中, 为了提升性能, 事务会以较低的隔离级别运行， 事务的隔离级别可以通过隔离事务属性指定。</p>
<p><strong>特别注意：</strong> </p>
<p><strong>MySQL默认的事务隔离级别为repeatable-read</strong> 可重复读</p>
<blockquote>
<p>隔离级别就是在解决事务并发问题，如果不考虑事务的隔离级别会出现以下<br><strong>事务的并发问题</strong></p>
</blockquote>
<p><strong>1、脏读：</strong> 事务A读取了事务B更新的数据，然后B回滚操作，那么A读取到的数据是脏数据</p>
<p><strong>2、不可重复读：</strong> 事务 A 多次读取同一数据，事务 B 在事务A多次读取的过程中，对数据作了更新并提交，导致事务A多次读取同一数据时，结果因此本事务先后两次读到的数据结果会不一致。</p>
<p><strong>3、幻读：</strong> 幻读解决了不重复读，保证了同一个事务里，查询的结果都是事务开始时的状态（一致性）。</p>
<p>例如：事务T1对一个表中所有的行的某个数据项做了从“1”修改为“2”的操作 这时事务T2又对这个表中插入了一行数据项，而这个数据项的数值还是为“1”并且提交给数据库。而操作事务T1的用户如果再查看刚刚修改的数据，会发现还有跟没有修改一样，其实这行是从事务T2中添加的，就好像产生幻觉一样，这就是发生了幻读。</p>
<p>小结：不可重复读的和幻读很容易混淆，不可重复读侧重于修改，幻读侧重于新增或删除。解决不可重复读的问题只需锁住满足条件的行，解决幻读需要锁表。</p>
<blockquote>
<p>为了解决这些问题，数据库共定义了四种隔离级别：</p>
</blockquote>
<p><strong>事务的隔离级别</strong></p>
<p><strong>读未提交：</strong> 另一个事务修改了数据，但尚未提交，而本事务中的SELECT会读到这些未被提交的数据脏读</p>
<p><strong>不可重复读：</strong> 事务 A 多次读取同一数据，事务 B 在事务A多次读取的过程中，对数据作了更新并提交，导致事务A多次读取同一数据时，结果因此本事务先后两次读到的数据结果会不一致。</p>
<p><strong>可重复读：</strong> 在同一个事务里，SELECT的结果是事务开始时时间点的状态，因此，同样的SELECT操作读到的结果会是一致的。但是，会有幻读现象</p>
<p><strong>串行化：</strong> 最高的隔离级别，在这个隔离级别下，不会产生任何异常。并发的事务，就像事务是在一个个按照顺序执行一样</p>
<p> <img src="https://gitee.com/fly_tom/use/raw/master/mysql5.png" alt=""></p>
<p><strong>MySQL 支持 4 种事务隔离级别.</strong></p>
<p>事务的隔离级别要得到底层数据库引擎的支持, 而不是应用程序或者框架的支持.</p>
<p><strong>Oracle 支持的 2 种事务隔离级别：</strong> <strong>READ_COMMITED , SERIALIZABLE</strong></p>
<p>SQL规范所规定的标准，不同的数据库具体的实现可能会有些差异</p>
<p>MySQL中默认事务隔离级别是“可重复读”时并不会锁住读取到的行</p>
<p><strong>事务隔离级别：</strong> 未提交读时，写数据只会锁住相应的行。</p>
<p><strong>事务隔离级别为：</strong> 可重复读时，写数据会锁住整张表。</p>
<p><strong>事务隔离级别为：</strong> 串行化时，读写数据都会锁住整张表。</p>
<p>隔离级别越高，越能保证数据的完整性和一致性，但是对并发性能的影响也越大，鱼和熊掌不可兼得啊。对于多数应用程序，可以优先考虑把数据库系统的隔离级别设为Read Committed，它能够避免脏读取，而且具有较好的并发性能。尽管它会导致不可重复读、幻读这些并发问题，在可能出现这类问题的个别场合，可以由应用程序采用悲观锁或乐观锁来控制。</p>
<h4 id="4-事务传播行为"><a href="#4-事务传播行为" class="headerlink" title="4.事务传播行为"></a>4.事务传播行为</h4><p><strong>1.PROPAGATION_REQUIRED：</strong> 如果当前没有事务，就创建一个新事务，如果当前存在事务，就加入该事务，该设置是最常用的设置。</p>
<p><strong>2.PROPAGATION_SUPPORTS：</strong> 支持当前事务，如果当前存在事务，就加入该事务，如果当前不存在事务，就以非事务执行。</p>
<p><strong>3.PROPAGATION_MANDATORY：</strong> 支持当前事务，如果当前存在事务，就加入该事务，如果当前不存在事务，就抛出异常。</p>
<p><strong>4.PROPAGATION_REQUIRES_NEW：</strong> 创建新事务，无论当前存不存在事务，都创建新事务。</p>
<p><strong>5.PROPAGATION_NOT_SUPPORTED：</strong> 以非事务方式执行操作，如果当前存在事务，就把当前事务挂起。</p>
<p><strong>6.PROPAGATION_NEVER：</strong> 以非事务方式执行，如果当前存在事务，则抛出异常。</p>
<p><strong>7.PROPAGATION_NESTED：</strong> 如果当前存在事务，则在嵌套事务内执行。如果当前没有事务，则执行与PROPAGATION_REQUIRED类似的操作。</p>
<h4 id="5-嵌套事务"><a href="#5-嵌套事务" class="headerlink" title="5.嵌套事务"></a>5.嵌套事务</h4><p><strong>什么是嵌套事务？</strong></p>
<p>嵌套是子事务套在父事务中执行，子事务是父事务的一部分，在进入子事务之前，父事务建立一个回滚点，叫save point，然后执行子事务，这个子事务的执行也算是父事务的一部分，然后子事务执行结束，父事务继续执行。重点就在于那个save point。看几个问题就明了了：</p>
<p><strong>如果子事务回滚，会发生什么？</strong></p>
<p>父事务会回滚到进入子事务前建立的save point，然后尝试其他的事务或者其他的业务逻辑，父事务之前的操作不会受到影响，更不会自动回滚。</p>
<p><strong>如果父事务回滚，会发生什么？</strong></p>
<p>父事务回滚，子事务也会跟着回滚！为什么呢，因为父事务结束之前，子事务是不会提交的，我们说子事务是父事务的一部分，正是这个道理。那么：</p>
<p><strong>事务的提交，是什么情况？</strong></p>
<p>是父事务先提交，然后子事务提交，还是子事务先提交，父事务再提交？答案是第二种情况，还是那句话，子事务是父事务的一部分，由父事务统一提交。</p>
<p>参考文章：</p>
<p><em><a href="https://blog.csdn.net/liangxw1/article/details/51197560" target="_blank" rel="noopener">https://blog.csdn.net/liangxw1/article/details/51197560</a></em></p>
<h3 id="四、存储引擎"><a href="#四、存储引擎" class="headerlink" title="四、存储引擎"></a>四、存储引擎</h3><hr>
<h4 id="1-MySQL常见的三种存储引擎（InnoDB、MyISAM、MEMORY）的区别"><a href="#1-MySQL常见的三种存储引擎（InnoDB、MyISAM、MEMORY）的区别" class="headerlink" title="1.MySQL常见的三种存储引擎（InnoDB、MyISAM、MEMORY）的区别?"></a>1.MySQL常见的三种存储引擎（InnoDB、MyISAM、MEMORY）的区别?</h4><p><strong>两种存储引擎的大致区别表现在：</strong> </p>
<p>1.InnoDB支持事务，MyISAM不支持， 这一点是非常之重要。事务是一种高级的处理方式，如在一些列增删改中只要哪个出错还可以回滚还原，而MyISAM就不可以了。</p>
<p>2.MyISAM适合查询以及插入为主的应用。</p>
<p>3.InnoDB适合频繁修改以及涉及到安全性较高的应用。</p>
<p>4.InnoDB支持外键，MyISAM不支持。</p>
<p>5.从MySQL5.5.5以后，InnoDB是默认引擎。</p>
<p>6.InnoDB不支持FULLTEXT类型的索引。</p>
<p>7.InnoDB中不保存表的行数，如select count() from table时，InnoDB需要扫描一遍整个表来计算有多少行，但是MyISAM只要简单的读出保存好的行数即可。注意的是，当count()语句包含where条件时MyISAM也需要扫描整个表。</p>
<p>8.对于自增长的字段，InnoDB中必须包含只有该字段的索引，但是在MyISAM表中可以和其他字段一起建立联合索引。</p>
<p>9.DELETE FROM table时，InnoDB不会重新建立表，而是一行一行的 删除，效率非常慢。MyISAM则会重建表。</p>
<p>10.InnoDB支持行锁（某些情况下还是锁整表，如 update table set a=1 where user like ‘%lee%’。</p>
<p>往期文章：<a href="http://mp.weixin.qq.com/s?__biz=MzI4Njc5NjM1NQ==&amp;mid=2247490339&amp;idx=2&amp;sn=03dcec83524fd3aaa2bab57dac2763a2&amp;chksm=ebd6240fdca1ad19a6aa3548e299a1cc9749a52f9191481fe3831e3f10150ed992f44fe4d84a&amp;scene=21#wechat_redirect" target="_blank" rel="noopener">InnoDB一棵B+树可以存放多少行数据？</a>  </p>
<h4 id="2-MySQL存储引擎MyISAM与InnoDB如何选择"><a href="#2-MySQL存储引擎MyISAM与InnoDB如何选择" class="headerlink" title="2.MySQL存储引擎MyISAM与InnoDB如何选择"></a>2.MySQL存储引擎MyISAM与InnoDB如何选择</h4><p>MySQL有多种存储引擎，每种存储引擎有各自的优缺点，可以择优选择使用：MyISAM、InnoDB、MERGE、MEMORY(HEAP)、BDB(BerkeleyDB)、EXAMPLE、FEDERATED、ARCHIVE、CSV、BLACKHOLE。</p>
<p>虽然MySQL里的存储引擎不只是MyISAM与InnoDB这两个，但常用的就是两个。<br>关于MySQL数据库提供的两种存储引擎，MyISAM与InnoDB选择使用：</p>
<ol>
<li><p>INNODB会支持一些关系数据库的高级功能，如事务功能和行级锁，MyISAM不支持。</p>
</li>
<li><p>MyISAM的性能更优，占用的存储空间少，所以，选择何种存储引擎，视具体应用而定。</p>
</li>
</ol>
<p>如果你的应用程序一定要使用事务，毫无疑问你要选择INNODB引擎。但要注意，INNODB的行级锁是有条件的。在where条件没有使用主键时，照样会锁全表。比如DELETE FROM mytable这样的删除语句。  </p>
<p>如果你的应用程序对查询性能要求较高，就要使用MyISAM了。MyISAM索引和数据是分开的，而且其索引是压缩的，可以更好地利用内存。所以它的查询性能明显优于INNODB。压缩后的索引也能节约一些磁盘空间。MyISAM拥有全文索引的功能，这可以极大地优化LIKE查询的效率。</p>
<p>有人说MyISAM只能用于小型应用，其实这只是一种偏见。如果数据量比较大，这是需要通过升级架构来解决，比如分表分库，而不是单纯地依赖存储引擎。</p>
<p>现在一般都是选用innodb了，主要是MyISAM的全表锁，读写串行问题，并发效率锁表，效率低，MyISAM对于读写密集型应用一般是不会去选用的。</p>
<p><strong>MEMORY存储引擎</strong></p>
<p>MEMORY是MySQL中一类特殊的存储引擎。它使用存储在内存中的内容来创建表，而且数据全部放在内存中。这些特性与前面的两个很不同。</p>
<p>每个基于MEMORY存储引擎的表实际对应一个磁盘文件。该文件的文件名与表名相同，类型为frm类型。该文件中只存储表的结构。而其数据文件，都是存储在内存中，这样有利于数据的快速处理，提高整个表的效率。</p>
<p>值得注意的是，服务器需要有足够的内存来维持MEMORY存储引擎的表的使用。如果不需要了，可以释放内存，甚至删除不需要的表。</p>
<p>MEMORY默认使用哈希索引。速度比使用B型树索引快。当然如果你想用B型树索引，可以在创建索引时指定。</p>
<p>注意，MEMORY用到的很少，因为它是把数据存到内存中，如果内存出现异常就会影响数据。如果重启或者关机，所有数据都会消失。因此，基于MEMORY的表的生命周期很短，一般是一次性的。</p>
<h4 id="3-MySQL的MyISAM与InnoDB两种存储引擎在，事务、锁级别，各自的适用场景"><a href="#3-MySQL的MyISAM与InnoDB两种存储引擎在，事务、锁级别，各自的适用场景" class="headerlink" title="3.MySQL的MyISAM与InnoDB两种存储引擎在，事务、锁级别，各自的适用场景?"></a>3.MySQL的MyISAM与InnoDB两种存储引擎在，事务、锁级别，各自的适用场景?</h4><p><strong>事务处理上方面</strong></p>
<p><strong>MyISAM：</strong> 强调的是性能，每次查询具有原子性,其执行数度比InnoDB类型更快，但是不提供事务支持。</p>
<p><strong>InnoDB：</strong> 提供事务支持事务，外部键等高级数据库功能。具有事务(commit)、回滚(rollback)和崩溃修复能力(crash recovery capabilities)的事务安全(transaction-safe (ACID compliant))型表。</p>
<p><strong>锁级别</strong></p>
<p><strong>MyISAM：</strong> 只支持表级锁，用户在操作MyISAM表时，select，update，delete，insert语句都会给表自动加锁，如果加锁以后的表满足insert并发的情况下，可以在表的尾部插入新的数据。</p>
<p><strong>InnoDB：</strong> 支持事务和行级锁，是innodb的最大特色。行锁大幅度提高了多用户并发操作的新能。但是InnoDB的行锁，只是在WHERE的主键是有效的，非主键的WHERE都会锁全表的。</p>
<p>关于存储引擎MyISAM和InnoDB的其他参考资料如下：</p>
<p><em><a href="http://blog.csdn.net/lc0817/article/details/52757194" target="_blank" rel="noopener">http://blog.csdn.net/lc0817/article/details/52757194</a></em></p>
<p><em><a href="https://www.cnblogs.com/kevingrace/p/5685355.html" target="_blank" rel="noopener">https://www.cnblogs.com/kevingrace/p/5685355.html</a></em></p>
<h4 id="4-MyISAM与InnoDB两种存储引擎在磁盘中的格式"><a href="#4-MyISAM与InnoDB两种存储引擎在磁盘中的格式" class="headerlink" title="4. MyISAM与InnoDB两种存储引擎在磁盘中的格式"></a>4. MyISAM与InnoDB两种存储引擎在磁盘中的格式</h4><h3 id="五、优化"><a href="#五、优化" class="headerlink" title="五、优化"></a>五、优化</h3><hr>
<h4 id="1-查询语句不同元素（where、jion、limit、group-by、having等等）执行先后顺序"><a href="#1-查询语句不同元素（where、jion、limit、group-by、having等等）执行先后顺序" class="headerlink" title="1.查询语句不同元素（where、jion、limit、group by、having等等）执行先后顺序?"></a>1.查询语句不同元素（where、jion、limit、group by、having等等）执行先后顺序?</h4><p><strong>1.查询中用到的关键词主要包含六个，并且他们的顺序依次为 select–from–where–group by–having–order by</strong></p>
<p>其中select和from是必须的，其他关键词是可选的，这六个关键词的执行顺序 与sql语句的书写顺序并不是一样的，而是按照下面的顺序来执行</p>
<ul>
<li><p><strong>from:</strong>  需要从哪个数据表检索数据</p>
</li>
<li><p><strong>where:</strong>  过滤表中数据的条件</p>
</li>
<li><p><strong>group by:</strong>  如何将上面过滤出的数据分组</p>
</li>
<li><p><strong>having:</strong> 对上面已经分组的数据进行过滤的条件</p>
</li>
<li><p><strong>select:</strong> 查看结果集中的哪个列，或列的计算结果</p>
</li>
<li><p><strong>order by :</strong> 按照什么样的顺序来查看返回的数据</p>
</li>
</ul>
<p><strong>2.from后面的表关联，是自右向左解析 而where条件的解析顺序是自下而上的。</strong></p>
<p>也就是说，在写SQL语句的时候，尽量把数据量小的表放在最右边来进行关联（用小表去匹配大表），而把能筛选出小量数据的条件放在where语句的最左边 （用小表去匹配大表）</p>
<p>其他参考资源：</p>
<p><em><a href="http://www.cnblogs.com/huminxxl/p/3149097.html" target="_blank" rel="noopener">http://www.cnblogs.com/huminxxl/p/3149097.html</a></em></p>
<h4 id="2-使用explain优化sql和索引"><a href="#2-使用explain优化sql和索引" class="headerlink" title="2.使用explain优化sql和索引?"></a>2.使用explain优化sql和索引?</h4><p>对于复杂、效率低的sql语句，我们通常是使用explain sql 来分析sql语句，这个语句可以打印出，语句的执行。这样方便我们分析，进行优化<br><img src="https://gitee.com/fly_tom/use/raw/master/mysql9.png" alt=""></p>
<h4 id="3-MySQL慢查询怎么"><a href="#3-MySQL慢查询怎么" class="headerlink" title="3.MySQL慢查询怎么"></a>3.MySQL慢查询怎么</h4><p><strong>slow_query_log</strong> 慢查询开启状态。</p>
<p><strong>slow_query_log_file</strong> 慢查询日志存放的位置（这个目录需要MySQL的运行帐号的可写权限，一般设置为MySQL的数据存放目录）。</p>
<p><strong>long_query_time</strong> 查询超过多少秒才记录。</p>
<h4 id="4、常见优化"><a href="#4、常见优化" class="headerlink" title="4、常见优化"></a>4、常见优化</h4><ol>
<li><p>对查询进行优化，要尽量避免全表扫描，首先应考虑在 where 及 order by 涉及的列上建立索引。</p>
</li>
<li><p>应尽量避免在 where 子句中对字段进行 null 值判断，否则将导致引擎放弃使用索引而进行全表扫描，如：</p>
</li>
</ol>
<pre class=" language-mysql"><code class="language-mysql">select id from t where num is null</code></pre>
<p>最好不要给数据库留NULL，尽可能的使用 NOT NULL填充数据库.</p>
<p>备注、描述、评论之类的可以设置为 NULL，其他的，最好不要使用NULL。</p>
<p>不要以为 NULL 不需要空间，比如：char(100) 型，在字段建立时，空间就固定了， 不管是否插入值（NULL也包含在内），都是占用 100个字符的空间的，如果是varchar这样的变长字段， null 不占用空间。</p>
<p> 可以在num上设置默认值0，确保表中num列没有null值，然后这样查询：</p>
<pre class=" language-mysql"><code class="language-mysql">select id from t where num = 0</code></pre>
<ol start="3">
<li><p>应尽量避免在 where 子句中使用 != 或 &lt;&gt; 操作符，否则将引擎放弃使用索引而进行全表扫描。(</p>
<p>负向条件索引不会使用索引，建议用in。负向条件有：!=、&lt;&gt;、not in、not exists、not like 等</p>
<p>)</p>
</li>
<li><p>应尽量避免在 where 子句中使用 or 来连接条件，如果一个字段有索引，一个字段没有索引，将导致引擎放弃使用索引而进行全表扫描，如：</p>
</li>
</ol>
<pre class=" language-mysql"><code class="language-mysql">select id from t where num=10 or Name = 'admin'</code></pre>
<p>可以这样查询：</p>
<pre class=" language-mysql"><code class="language-mysql">select id from t where num = 10union allselect id from t where Name = 'admin'</code></pre>
<ol start="5">
<li>in 和 not in 也要慎用，否则会导致全表扫描，如：</li>
</ol>
<pre class=" language-mysql"><code class="language-mysql">select id from t where num in(1,2,3)</code></pre>
<p>对于连续的数值，能用 between 就不要用 in 了：</p>
<pre class=" language-mysql"><code class="language-mysql">select id from t where num between 1 and 3</code></pre>
<p>很多时候用 exists 代替 in 是一个好的选择：</p>
<pre class=" language-mysql"><code class="language-mysql">select num from a where num in(select num from b)</code></pre>
<p>用下面的语句替换：</p>
<pre class=" language-mysql"><code class="language-mysql">select num from a where exists(select 1 from b where num=a.num)</code></pre>
<ol start="6">
<li>下面的查询也将导致全表扫描：</li>
</ol>
<pre class=" language-mysql"><code class="language-mysql">select id from t where name like ‘%abc%’</code></pre>
<p>like查询的时候只有使用后面的%时，才会走索引</p>
<p>若要提高效率，可以考虑全文检索。</p>
<ol start="7">
<li>如果在 where 子句中使用参数，也会导致全表扫描。因为SQL只有在运行时才会解析局部变量，但优化程序不能将访问计划的选择推迟到运行时；它必须在编译时进行选择。然 而，如果在编译时建立访问计划，变量的值还是未知的，因而无法作为索引选择的输入项。如下面语句将进行全表扫描：</li>
</ol>
<pre class=" language-mysql"><code class="language-mysql">select id from t where num = @num</code></pre>
<p>可以改为强制查询使用索引：</p>
<pre class=" language-mysql"><code class="language-mysql">select id from t with(index(索引名)) where num = @num</code></pre>
<ol start="8">
<li>应尽量避免在 where 子句中对字段进行表达式操作，这将导致引擎放弃使用索引而进行全表扫描。如：</li>
</ol>
<pre class=" language-mysql"><code class="language-mysql">select id from t where num/2 = 100</code></pre>
<p>应改为:</p>
<pre class=" language-mysql"><code class="language-mysql">select id from t where num = 100*2</code></pre>
<ol start="9">
<li>应尽量避免在where子句中对字段进行函数操作，这将导致引擎放弃使用索引而进行全表扫描。如：</li>
</ol>
<pre class=" language-mysql"><code class="language-mysql">select id from t where substring(name,1,3) = ’abc’       
-–name以abc开头的id
select id from t where datediff(day,createdate,’2005-11-30′) = 0    
-–‘2005-11-30’    --生成的id</code></pre>
<p>应改为:</p>
<pre class=" language-mysql"><code class="language-mysql">select id from t where name like 'abc%'select id from t where createdate >= '2005-11-30' and createdate < '2005-12-1'</code></pre>
<ol start="10">
<li><p>不要在 where 子句中的“=”左边进行函数、算术运算或其他表达式运算，否则系统将可能无法正确使用索引。</p>
</li>
<li><p>在使用索引字段作为条件时，如果该索引是复合索引，那么必须使用到该索引中的第一个字段作为条件时才能保证系统使用该索引，否则该索引将不会被使用，并且应尽可能的让字段顺序与索引顺序相一致。</p>
</li>
<li><p>不要写一些没有意义的查询，如需要生成一个空表结构：</p>
</li>
</ol>
<pre class=" language-mysql"><code class="language-mysql">select col1,col2 into #t from t where 1=0</code></pre>
<p>这类代码不会返回任何结果集，但是会消耗系统资源的，应改成这样：<br> create table #t(…)</p>
<ol start="13">
<li>Update 语句，如果只更改1、2个字段，不要Update全部字段，否则频繁调用会引起明显的性能消耗，同时带来大量日志。</li>
<li>对于多张大数据量（这里几百条就算大了）的表JOIN，要先分页再JOIN，否则逻辑读会很高，性能很差。</li>
<li>select count(*) from table；这样不带任何条件的count会引起全表扫描，并且没有任何业务意义，是一定要杜绝的。</li>
<li>索引并不是越多越好，索引固然可以提高相应的 select 的效率，但同时也降低了 insert 及 update 的效率，因为 insert 或 update 时有可能会重建索引，所以怎样建索引需要慎重考虑，视具体情况而定。一个表的索引数最好不要超过6个，若太多则应考虑一些不常使用到的列上建的索引是否有 必要。</li>
<li>应尽可能的避免更新 clustered 索引数据列，因为 clustered 索引数据列的顺序就是表记录的物理存储顺序，一旦该列值改变将导致整个表记录的顺序的调整，会耗费相当大的资源。若应用系统需要频繁更新 clustered 索引数据列，那么需要考虑是否应将该索引建为 clustered 索引。</li>
<li>尽量使用数字型字段，若只含数值信息的字段尽量不要设计为字符型，这会降低查询和连接的性能，并会增加存储开销。这是因为引擎在处理查询和连 接时会逐个比较字符串中每一个字符，而对于数字型而言只需要比较一次就够了。</li>
<li>尽可能的使用 varchar/nvarchar 代替 char/nchar ，因为首先变长字段存储空间小，可以节省存储空间，其次对于查询来说，在一个相对较小的字段内搜索效率显然要高些。</li>
<li>任何地方都不要使用 select * from t ，用具体的字段列表代替“*”，不要返回用不到的任何字段。</li>
<li>尽量使用表变量来代替临时表。如果表变量包含大量数据，请注意索引非常有限（只有主键索引）。</li>
<li>避免频繁创建和删除临时表，以减少系统表资源的消耗。临时表并不是不可使用，适当地使用它们可以使某些例程更有效，例如，当需要重复引用大型表或常用表中的某个数据集时。但是，对于一次性事件， 最好使用导出表。</li>
<li>在新建临时表时，如果一次性插入数据量很大，那么可以使用 select into 代替 create table，避免造成大量 log ，以提高速度；如果数据量不大，为了缓和系统表的资源，应先create table，然后insert。</li>
<li>如果使用到了临时表，在存储过程的最后务必将所有的临时表显式删除，先 truncate table ，然后 drop table ，这样可以避免系统表的较长时间锁定。</li>
<li>尽量避免使用游标，因为游标的效率较差，如果游标操作的数据超过1万行，那么就应该考虑改写。</li>
<li>使用基于游标的方法或临时表方法之前，应先寻找基于集的解决方案来解决问题，基于集的方法通常更有效。</li>
<li>与临时表一样，游标并不是不可使用。对小型数据集使用 FAST_FORWARD 游标通常要优于其他逐行处理方法，尤其是在必须引用几个表才能获得所需的数据时。在结果集中包括“合计”的例程通常要比使用游标执行的速度快。如果开发时 间允许，基于游标的方法和基于集的方法都可以尝试一下，看哪一种方法的效果更好。</li>
<li>在所有的存储过程和触发器的开始处设置 SET NOCOUNT ON ，在结束时设置 SET NOCOUNT OFF 。无需在执行存储过程和触发器的每个语句后向客户端发送 DONE_IN_PROC 消息。</li>
<li>尽量避免大事务操作，提高系统并发能力。</li>
<li>尽量避免向客户端返回大数据量，若数据量过大，应该考虑相应需求是否合理。</li>
<li>避免频繁的回表查询，看Mysql索引</li>
</ol>
<h3 id="六、数据库锁"><a href="#六、数据库锁" class="headerlink" title="六、数据库锁"></a>六、数据库锁</h3><hr>
<h4 id="1-mysql都有什么锁，死锁判定原理和具体场景，死锁怎么解决"><a href="#1-mysql都有什么锁，死锁判定原理和具体场景，死锁怎么解决" class="headerlink" title="1.mysql都有什么锁，死锁判定原理和具体场景，死锁怎么解决?"></a>1.mysql都有什么锁，死锁判定原理和具体场景，死锁怎么解决?</h4><p>MySQL有三种锁的级别：页级、表级、行级。</p>
<ul>
<li><p><strong>表级锁：</strong> 开销小，加锁快；不会出现死锁；锁定粒度大，发生锁冲突的概率最高,并发度最低。</p>
</li>
<li><p><strong>行级锁：</strong> 开销大，加锁慢；会出现死锁；锁定粒度最小，发生锁冲突的概率最低,并发度也最高。</p>
</li>
<li><p><strong>页面锁：</strong> 开销和加锁时间界于表锁和行锁之间；会出现死锁；锁定粒度界于表锁和行锁之间，并发度一般</p>
</li>
</ul>
<p><strong>什么情况下会造成死锁?</strong></p>
<p><strong>什么是死锁？</strong>  </p>
<p><strong>死锁:</strong>  是指两个或两个以上的进程在执行过程中。因争夺资源而造成的一种互相等待的现象,若无外力作用,它们都将无法推进下去。此时称系统处于死锁状态或系统产生了死锁,这些永远在互相等竺的进程称为死锁进程。</p>
<p>表级锁不会产生死锁.所以解决死锁主要还是针对于最常用的InnoDB。</p>
<p><strong>死锁的关键在于：</strong> 两个(或以上)的Session加锁的顺序不一致。</p>
<p>那么对应的解决死锁问题的关键就是：让不同的session加锁有次序。</p>
<p><strong>死锁的解决办法?</strong></p>
<p><strong>1.查出的线程杀死 kill</strong>  </p>
<pre><code>SELECT trx_MySQL_thread_id FROM information_schema.INNODB_TRX;</code></pre><p><strong>2.设置锁的超时时间</strong>  </p>
<p>Innodb 行锁的等待时间，单位秒。可在会话级别设置，RDS 实例该参数的默认值为 50（秒）。</p>
<p>生产环境不推荐使用过大的 <strong>innodb_lock_wait_timeout</strong>参数值</p>
<p>该参数支持在会话级别修改，方便应用在会话级别单独设置某些特殊操作的行锁等待超时时间，如下：<br>set innodb_lock_wait_timeout=1000; —设置当前会话 Innodb 行锁等待超时时间，单位秒。</p>
<p><strong>3.指定获取锁的顺序</strong></p>
<h4 id="2-有哪些锁（乐观锁悲观锁），select-时怎么加排它锁"><a href="#2-有哪些锁（乐观锁悲观锁），select-时怎么加排它锁" class="headerlink" title="2.有哪些锁（乐观锁悲观锁），select 时怎么加排它锁?"></a>2.有哪些锁（乐观锁悲观锁），select 时怎么加排它锁?</h4><p><strong>悲观锁（Pessimistic Lock）:</strong> </p>
<p>悲观锁特点:先获取锁，再进行业务操作。</p>
<p>即“悲观”的认为获取锁是非常有可能失败的，因此要先确保获取锁成功再进行业务操作。通常所说的“一锁二查三更新”即指的是使用悲观锁。通常来讲在数据库上的悲观锁需要数据库本身提供支持，即通过常用的select … for update操作来实现悲观锁。</p>
<p>当数据库执行select for update时会获取被select中的数据行的行锁，因此其他并发执行的select for update如果试图选中同一行则会发生排斥（需要等待行锁被释放），因此达到锁的效果。select for update获取的行锁会在当前事务结束时自动释放，因此必须在事务中使用。</p>
<h4 id="补充："><a href="#补充：" class="headerlink" title="补充："></a><strong>补充：</strong></h4><p>不同的数据库对select for update的实现和支持都是有所区别的，</p>
<p>oracle支持select for update no wait，表示如果拿不到锁立刻报错，而不是等待，MySQL就没有no wait这个选项。</p>
<p>MySQL还有个问题是select for update语句执行中所有扫描过的行都会被锁上，这一点很容易造成问题。因此如果在MySQL中用悲观锁务必要确定走了索引，而不是全表扫描。</p>
<p><strong>乐观锁（Optimistic Lock）:</strong> </p>
<ol>
<li>乐观锁，也叫乐观并发控制，它假设多用户并发的事务在处理时不会彼此互相影响，各事务能够在不产生锁的情况下处理各自影响的那部分数据。在提交数据更新之前，每个事务会先检查在该事务读取数据后，有没有其他事务又修改了该数据。如果其他事务有更新的话，那么当前正在提交的事务会进行回滚。</li>
</ol>
<ol start="2">
<li><p>乐观锁的特点先进行业务操作，不到万不得已不去拿锁。即“乐观”的认为拿锁多半是会成功的，因此在进行完业务操作需要实际更新数据的最后一步再去拿一下锁就好。<br>乐观锁在数据库上的实现完全是逻辑的，不需要数据库提供特殊的支持。</p>
</li>
<li><p>一般的做法是在需要锁的数据上增加一个版本号，或者时间戳，</p>
</li>
</ol>
<p><strong>实现方式举例如下：</strong> </p>
<p>乐观锁（给表加一个版本号字段） 这个并不是乐观锁的定义，给表加版本号，是数据库实现乐观锁的一种方式。</p>
<pre class=" language-mysql"><code class="language-mysql">SELECT data AS old_data, version AS old_version FROM …;
//根据获取的数据进行业务操作，得到new_data和new_version
UPDATE SET data = new_data, version = new_version WHERE version = old_versionif (updated row > 0) 
{// 乐观锁获取成功，操作完成} else {// 乐观锁获取失败，回滚并重试}</code></pre>
<p><strong>注意：</strong> </p>
<p>乐观锁在不发生取锁失败的情况下开销比悲观锁小，但是一旦发生失败回滚开销则比较大，因此适合用在取锁失败概率比较小的场景，可以提升系统并发性能<br>乐观锁还适用于一些比较特殊的场景，例如在业务操作过程中无法和数据库保持连接等悲观锁无法适用的地方。</p>
<h4 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h4><p>悲观锁和乐观锁是数据库用来保证数据并发安全防止更新丢失的两种方法，例子在select … for update前加个事务就可以防止更新丢失。悲观锁和乐观锁大部分场景下差异不大，一些独特场景下有一些差别，一般我们可以从如下几个方面来判断。</p>
<p><strong>响应速度：</strong> 如果需要非常高的响应速度，建议采用乐观锁方案，成功就执行，不成功就失败，不需要等待其他并发去释放锁。’</p>
<p><strong>冲突频率：</strong> 如果冲突频率非常高，建议采用悲观锁，保证成功率，如果冲突频率大，乐观锁会需要多次重试才能成功，代价比较大。</p>
<p><strong>重试代价：</strong> 如果重试代价大，建议采用悲观锁。</p>
<p>关于悲观锁和乐观锁：<a href="http://mp.weixin.qq.com/s?__biz=MzI4Njc5NjM1NQ==&amp;mid=2247488293&amp;idx=1&amp;sn=7c2a3dad91dd6b9a470ce0f8e623d8c2&amp;chksm=ebd62c09dca1a51f3c2c672ca23e9560d4afbee003b2e9299c647f783e4e85a49318ca4efcaf&amp;scene=21#wechat_redirect" target="_blank" rel="noopener">面试难点：你了解乐观锁和悲观锁吗？</a>  </p>
<h3 id="七、其他"><a href="#七、其他" class="headerlink" title="七、其他"></a>七、其他</h3><hr>
<h4 id="1-数据库的主从复制"><a href="#1-数据库的主从复制" class="headerlink" title="1.数据库的主从复制"></a>1.数据库的主从复制</h4><p>主从复制的几种方式:</p>
<p><strong>同步复制:</strong> </p>
<p>所谓的同步复制，意思是master的变化，必须等待slave-1,slave-2,…,slave-n完成后才能返回。这样，显然不可取，也不是MySQL复制的默认设置。比如，在WEB前端页面上，用户增加了条记录，需要等待很长时间。</p>
<p><strong>异步复制:</strong> </p>
<p>如同AJAX请求一样。master只需要完成自己的数据库操作即可。至于slaves是否收到二进制日志，是否完成操作，不用关心,MySQL的默认设置。</p>
<p><strong>半同步复制:</strong> </p>
<p>master只保证slaves中的一个操作成功，就返回，其他slave不管。这个功能，是由google为MySQL引入的。</p>
<h4 id="2-数据库主从复制分析的-7-个问题"><a href="#2-数据库主从复制分析的-7-个问题" class="headerlink" title="2.数据库主从复制分析的 7 个问题?"></a>2.数据库主从复制分析的 7 个问题?</h4><p><strong>问题1：</strong> <strong>master的写操作，slaves被动的进行一样的操作，保持数据一致性，那么slave是否可以主动的进行写操作？</strong></p>
<p>假设slave可以主动的进行写操作，slave又无法通知master，这样就导致了master和slave数据不一致了。因此slave不应该进行写操作，至少是slave上涉及到复制的数据库不可以写。实际上，这里已经揭示了读写分离的概念。</p>
<p><strong>问题2：</strong> <strong>主从复制中，可以有N个slave,可是这些slave又不能进行写操作，要他们干嘛？</strong></p>
<p><strong>实现数据备份：</strong> </p>
<p>类似于高可用的功能，一旦master挂了，可以让slave顶上去，同时slave提升为master。</p>
<p><strong>异地容灾:</strong> </p>
<p>比如master在北京，地震挂了，那么在上海的slave还可以继续。<br>主要用于实现scale out,分担负载,可以将读的任务分散到slaves上。</p>
<p>【很可能的情况是，一个系统的读操作远远多于写操作，因此写操作发向master，读操作发向slaves进行操作】</p>
<p><strong>问题3：</strong> <strong>主从复制中有master,slave1,slave2,…等等这么多MySQL数据库，那比如一个JAVA WEB应用到底应该连接哪个数据库?</strong></p>
<p>我们在应用程序中可以这样，insert/delete/update这些更新数据库的操作，用connection(for master)进行操作，</p>
<p>select用connection(for slaves)进行操作。那我们的应用程序还要完成怎么从slaves选择一个来执行select，例如使用简单的轮循算法。</p>
<p>这样的话，相当于应用程序完成了SQL语句的路由，而且与MySQL的主从复制架构非常关联，一旦master挂了，某些slave挂了，那么应用程序就要修改了。能不能让应用程序与MySQL的主从复制架构没有什么太多关系呢？</p>
<p>找一个组件，application program只需要与它打交道，用它来完成MySQL的代理，实现SQL语句的路由。</p>
<p>MySQL proxy并不负责，怎么从众多的slaves挑一个？可以交给另一个组件(比如haproxy)来完成。</p>
<p>这就是所谓的MySQL READ WRITE SPLITE，MySQL的读写分离。</p>
<p><strong>问题4：</strong> <strong>如果MySQL proxy , direct , master他们中的某些挂了怎么办？</strong></p>
<p>总统一般都会弄个副总统，以防不测。同样的，可以给这些关键的节点来个备份。</p>
<p><strong>问题5：</strong> <strong>当master的二进制日志每产生一个事件，都需要发往slave，如果我们有N个slave,那是发N次，还是只发一次？**</strong>如果只发一次，发给了slave-1，那slave-2,slave-3,…它们怎么办？**</p>
<p>显 然，应该发N次。实际上，在MySQL master内部，维护N个线程，每一个线程负责将二进制日志文件发往对应的slave。master既要负责写操作，还的维护N个线程，负担会很重。</p>
<p>可以这样，slave-1是master的从，slave-1又是slave-2,slave-3,…的主，同时slave-1不再负责select。slave-1将master的复制线程的负担，转移到自己的身上。这就是所谓的多级复制的概念。</p>
<p><strong>问题6：</strong> <strong>当一个select发往MySQL proxy，可能这次由slave-2响应，下次由slave-3响应，这样的话，就无法利用查询缓存了。</strong></p>
<p>应该找一个共享式的缓存，比如memcache来解决。将slave-2,slave-3,…这些查询的结果都缓存至mamcache中。</p>
<p><strong>问题7：</strong> <strong>随着应用的日益增长，读操作很多，我们可以扩展slave，但是如果master满足不了写操作了，怎么办呢？</strong></p>
<p>scale on ?更好的服务器？没有最好的，只有更好的，太贵了。。。</p>
<p>scale out ? 主从复制架构已经满足不了。</p>
<p>可以分库【垂直拆分】，分表【水平拆分】。</p>
<h4 id="3-mysql-高并发环境解决方案"><a href="#3-mysql-高并发环境解决方案" class="headerlink" title="3.mysql 高并发环境解决方案?"></a>3.mysql 高并发环境解决方案?</h4><p>MySQL 高并发环境解决方案：分库 分表 分布式 增加二级缓存。。。。。</p>
<p><strong>需求分析：</strong> 互联网单位 每天大量数据读取，写入，并发性高。</p>
<p><strong>现有解决方式：</strong> 水平分库分表，由单点分布到多点数据库中，从而降低单点数据库压力。</p>
<p><strong>集群方案：</strong> 解决DB宕机带来的单点DB不能访问问题。</p>
<p><strong>读写分离策略：</strong> 极大限度提高了应用中Read数据的速度和并发量。无法解决高写入压力。</p>
<h4 id="4-数据库崩溃时事务的恢复机制（REDO日志和UNDO日志）"><a href="#4-数据库崩溃时事务的恢复机制（REDO日志和UNDO日志）" class="headerlink" title="4.数据库崩溃时事务的恢复机制（REDO日志和UNDO日志）?"></a>4.数据库崩溃时事务的恢复机制（REDO日志和UNDO日志）?</h4><p>来源：</p>
<p><em><a href="https://www.cnblogs.com/Bozh/archive/2013/03/18/2966494.html" target="_blank" rel="noopener">https://www.cnblogs.com/Bozh/archive/2013/03/18/2966494.html</a></em></p>
<p><strong>Undo Log:</strong> </p>
<p>Undo Log是为了实现事务的原子性，在<code>MySQL</code>数据库InnoDB存储引擎中，还用了Undo Log来实现多版本并发控制(简称：<code>MVCC</code>)。</p>
<p>事务的原子性(Atomicity)事务中的所有操作，要么全部完成，要么不做任何操作，不能只做部分操作。如果在执行的过程中发生了错误，要回滚(Rollback)到事务开始前的状态，就像这个事务从来没有执行过。</p>
<p>原理Undo Log的原理很简单，为了满足事务的原子性，在操作任何数据之前，首先将数据备份到一个地方（这个存储数据备份的地方称为<code>UndoLog</code>）。然后进行数据的修改。如果出现了错误或者用户执行了ROLLBACK语句，系统可以利用Undo Log中的备份将数据恢复到事务开始之前的状态。</p>
<p><strong>之所以能同时保证原子性和持久化，是因为以下特点：</strong> </p>
<p>更新数据前记录Undo log。</p>
<p>为了保证持久性，必须将数据在事务提交前写到磁盘。只要事务成功提交，数据必然已经持久化。</p>
<p>Undo log必须先于数据持久化到磁盘。如果在G,H之间系统崩溃，undo log是完整的， 可以用来回滚事务。</p>
<p>如果在A-F之间系统崩溃,因为数据没有持久化到磁盘。所以磁盘上的数据还是保持在事务开始前的状态。</p>
<p><strong>缺陷：</strong> </p>
<p>每个事务提交前将数据和Undo Log写入磁盘，这样会导致大量的磁盘IO，因此性能很低。</p>
<p>如果能够将数据缓存一段时间，就能减少IO提高性能。但是这样就会丧失事务的持久性。因此引入了另外一种机制来实现持久化，即Redo Log。</p>
<p><strong>Redo Log:</strong> </p>
<p>原理和Undo Log相反，Redo Log记录的是新数据的备份。在事务提交前，只要将Redo Log持久化即可，不需要将数据持久化。当系统崩溃时，虽然数据没有持久化，但是Redo Log已经持久化。系统可以根据Redo Log的内容，将所有数据恢复到最新的状态。</p>
<h3 id="八、日志undo-redo-binlog"><a href="#八、日志undo-redo-binlog" class="headerlink" title="八、日志undo redo binlog"></a>八、日志<code>undo redo binlog</code></h3><blockquote>
<p><code>MySQL</code> 日志 主要包括错误日志、查询日志、慢查询日志、事务日志、二进制日志几大类。其中，比较重要的还要属二进制日志 <code>binlog</code>（归档日志）和事务日志 <code>redo log</code>（重做日志）和 <code>undo log</code>（回滚日志）。</p>
</blockquote>
<h3 id="技巧"><a href="#技巧" class="headerlink" title="技巧"></a>技巧</h3><h4 id="sql-蠕虫复制（这种生成数据方式同样适用于数据表中有主键的情况）。"><a href="#sql-蠕虫复制（这种生成数据方式同样适用于数据表中有主键的情况）。" class="headerlink" title="sql 蠕虫复制（这种生成数据方式同样适用于数据表中有主键的情况）。"></a>sql 蠕虫复制（这种生成数据方式同样适用于数据表中有主键的情况）。</h4><pre class=" language-sql"><code class="language-sql"><span class="token keyword">insert</span> <span class="token keyword">into</span> comic <span class="token punctuation">(</span>name<span class="token punctuation">,</span>pen_name<span class="token punctuation">,</span>cover<span class="token punctuation">)</span> <span class="token keyword">select</span> name<span class="token punctuation">,</span>pen_name<span class="token punctuation">,</span>cover <span class="token keyword">from</span> comic</code></pre>
<h3 id="九、MYSQL-下-count-、count-列）、-count-1-理解"><a href="#九、MYSQL-下-count-、count-列）、-count-1-理解" class="headerlink" title="九、MYSQL 下 count(*)、count(列）、 count(1) 理解"></a>九、MYSQL 下 count(*)、count(列）、 count(1) 理解</h3><h3 id="十、其他整理"><a href="#十、其他整理" class="headerlink" title="十、其他整理"></a>十、其他整理</h3><h4 id="binglog-配置"><a href="#binglog-配置" class="headerlink" title="binglog 配置"></a>binglog 配置</h4><p><strong>chatgpt回答：</strong></p>
<p><strong>mysql 开启binglog后， binglog指定 binlog-do-db=数据库名称后，如果不指定的库还会产生binglog吗</strong></p>
<blockquote>
<p>如果指定了 binlog-do-db=数据库名称，则不会记录没有指定的库中的任何操作。只有指定的库中的操作才会被记录到binlog中。因此，不指定的库将不会产生binlog。</p>
</blockquote>
<p><strong>如果不指定“binlog-do-db=数据库名称后”，是不是所有的库都有binglog</strong></p>
<blockquote>
<p>如果没有指定 <code>binlog-do-db</code> 参数，MySQL 将记录所有数据库的操作到 binlog 中。这意味着，不仅指定的数据库中的操作将被记录，所有数据库中的操作都将被记录。因此，如果您需要记录特定数据库中的操作，应该指定 <code>binlog-do-db=数据库名称</code> 参数来避免数据冗余。</p>
</blockquote>
<h4 id="binglog数据恢复"><a href="#binglog数据恢复" class="headerlink" title="binglog数据恢复"></a><code>binglog</code>数据恢复</h4><p>如果服务器没有<code>mysqlbinlog</code>工具，可以单独下载，然后直接使用，<code>mysqlbinlog</code>恢复工具不是在<code>sql</code>命令行使用，而是直接外部使用</p>
<pre class=" language-shell"><code class="language-shell">排查流程：
0.最好先将binlog日志备份
1.先确定binlog日志是哪个文件，show binlog events in "mysql-bin.003055" 进行排查，可以直接在Navicat中查询
2.通过1确定开始位置和结束位置，下面的通过时间筛选范围较大，可以通过position确定开始结束范围，然后导出sql
3.最后将delete语句修改为insert、update语句
备注：最好在服务器上查看 过滤日志 cat


mysqlbinlog --start-position=180 --stop-position=496 mysql-bin.000027


show binlog events in "mysql-bin.003055" limit 可以进行分页第几条到第几条

./mysqlbinlog.exe -v --base64-output=decode-rows --start-datetime="2023-04-25 00:00:00" --stop-datetime="2023-04-25 23:00:00" --database=pcs9700-congxi E:\mysql-bin.003055 > E:\3055.sql

./mysqlbinlog -v --base64-output=decode-rows --database=pcs9700-congxi mysql-bin.003055 > 3055.sql

/opt/docker/nrcloud/mysql/data/mysql-bin.000036 |more
查看日志命令
cat -n service.log | tail -n +29496 | head -n 20:从29496行开始检索，往前推20条，要先过滤之后再执行这个命令
cat -n service.log |grep "条件"</code></pre>
<p><a href="https://blog.csdn.net/weixin_43733154/article/details/104639335" target="_blank" rel="noopener">https://blog.csdn.net/weixin_43733154/article/details/104639335</a></p>
<p>01：在得知使用delete语句误删除了数据,这里是一条记录哈;需要做的事情：<br>    A：使用show master status;命令查看看当前binlog是哪个文件,并记录下来;<br>    C：确定删除数据的命令是什么,这里是：<code>delete from test1 where id=10;</code></p>
<p>02：对“01阶段”中的“A步骤”中的<code>binlog</code>日志做备份(<strong>复制一份到其它目录下,防止损坏源<code>binlog</code>文件</strong>);</p>
<p>03：在<code>mysql</code>中使用<code>"show binlog events in "01</code>阶段中A步骤记录的<code>binlog</code>文件名”;” 如：<code>show binlog events in "mysql-bin.000003";</code>命令找到<br>    delete from test1 where id=10；这条语句(事务)的起始pos点和结束pos点;</p>
<p>04：用mysqlbinlog命令结合”03阶段”找到的起始pos点和结束pos点对”02步骤”复制的binlog文件<br>    进行解释并生成新的文件;</p>
<p>05：在“04阶段”中新生成的文件中进行处理,这里要结合到test1表的表结构来进行处理哈;</p>
<p>06：恢复06阶段处理好的sql语句;</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
       
    </div>
</article>







    




    </div>
    <div class="copyright">
        <p class="footer-entry">
    ©2017 FlyTom
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="切换全屏 快捷键 s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*渲染对应的表格样式*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*渲染打赏样式*/
        

        /*高亮代码块行号*/
        

        /*访问数量*/
        

        /*代码高亮，行号对齐*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
    }

    /*打赏页面隐藏与展示*/
    

</script>

<!--加入行号的高亮代码块样式-->

<!--自定义样式设置-->
<style>
    
    
    .nav {
        width: 642px;
    }
    .nav.fullscreen {
        margin-left: -642px;
    }
    .nav-left {
        width: 220px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 642px;
        }
        .nav.fullscreen {
            margin-left: -642px;
        }
        .nav-left {
            width: 250px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 642px;
            margin-left: -642px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*列表样式*/
    

    /* 背景图样式 */
    
    


    /*引用块样式*/
    

    /*文章列表背景图*/
    

    
</style>







</html>
